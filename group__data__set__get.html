<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html> <head>
     <title>Apophenia: a library for scientific computing</title>

<!-- Google is watching. -->
<script src="http://www.google-analytics.com/urchin.js" type="text/javascript">
</script>
<script type="text/javascript">
_uacct = "UA-134313-2";
urchinTracker();
</script>


     <link rel="stylesheet" href="typical.css" type="text/css" >
     <script  type="text/javascript" language="JavaScript" src="tree.js"></script>
</head><body>
     <center><table cellpadding=10pt>
     <tr> <td><img width=140px src=flake.gif alt="Patterns in static"></td> 
    <td><table>
     	<tr> <td><center><h2><a href="http://apophenia.info">Apophenia</a></h2></center></td></tr>
<tr><td><div class="qindex"><a class="qindex" href="index.html">&nbsp;Intro</a> | <a class="qindex" href="outline.html">Outline</a> | <a class="qindex" href="globals.html">Index</a> <!--| <a class="qindex" href="files.html">File&nbsp;List&nbsp;</a> -->  </div></td></tr></table>
	</td></tr></table></center>

    <div> <!--Doxygen generates an extra </div>.-->
<!-- Generated by Doxygen 1.7.6.1 -->
</div>
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Set/get/point to the data element at the given point</div>  </div>
</div><!--header-->
<div class="contents">
<h2><a name="func-members"></a>
Functions</h2>
<ul>
<li>double * <a class="el" href="group__data__set__get.html#ga59d1c0299c7eb87224bc6c60555784fe">apop_data_ptr</a> (<a class="el" href="structapop__data.html">apop_data</a> *data, int row, int col, const char *rowname, const char *colname, const char *page)
<li>double <a class="el" href="group__data__set__get.html#ga06107779e4a3eb229715ceca24352b89">apop_data_get</a> (const <a class="el" href="structapop__data.html">apop_data</a> *data, size_t row, int col, const char *rowname, const char *colname, const char *page)
<li><a class="anchor" id="ga39d2e5893f1631a7a1ef2d06f3925fe6"></a><!-- doxytag: member="data_set_get::apop_gsl_error_for_set" ref="ga39d2e5893f1631a7a1ef2d06f3925fe6" args="(const char *reason, const char *file, int line, int gsl_errno)" -->
void <b>apop_gsl_error_for_set</b> (const char *reason, const char *file, int line, int gsl_errno)
<li>int <a class="el" href="group__data__set__get.html#gaea55629952c595bc8211d3333077dc51">apop_data_set</a> (<a class="el" href="structapop__data.html">apop_data</a> *data, size_t row, int col, const double val, const char *colname, const char *rowname, const char *page)
</ul>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<p>First, some examples:</p>
<div class="fragment"><pre class="fragment"><a class="code" href="structapop__data.html">apop_data</a> *d = <a class="code" href="apop_8h.html#ac39d6a56933b6f084328ec5ecd5090d8">apop_data_alloc</a>(10, 10, 10);
<a class="code" href="apop_8h.html#ae32d4f48cff7788b617d40155703ae64">apop_name_add</a>(d-&gt;names, <span class="stringliteral">&quot;Zeroth row&quot;</span>, <span class="charliteral">&#39;r&#39;</span>);
<a class="code" href="apop_8h.html#ae32d4f48cff7788b617d40155703ae64">apop_name_add</a>(d-&gt;names, <span class="stringliteral">&quot;Zeroth col&quot;</span>, <span class="charliteral">&#39;c&#39;</span>);

<a class="code" href="group__data__set__get.html#gaea55629952c595bc8211d3333077dc51">apop_data_set</a>(d, 8, 0, 27);
assert(<a class="code" href="group__data__set__get.html#ga06107779e4a3eb229715ceca24352b89">apop_data_get</a>(d, 8, .colname=<span class="stringliteral">&quot;Zeroth&quot;</span>) == 27);
<span class="keywordtype">double</span> *x = <a class="code" href="group__data__set__get.html#ga59d1c0299c7eb87224bc6c60555784fe">apop_data_ptr</a>(d, .col=7, .rowname=<span class="stringliteral">&quot;Zeroth&quot;</span>);
*x = 270;
assert(<a class="code" href="group__data__set__get.html#ga06107779e4a3eb229715ceca24352b89">apop_data_get</a>(d, 0, 7) == 270);


<span class="comment">//apop_data set holding a scalar:</span>
<a class="code" href="structapop__data.html">apop_data</a> *s = <a class="code" href="apop_8h.html#ac39d6a56933b6f084328ec5ecd5090d8">apop_data_alloc</a>(1);
<a class="code" href="group__data__set__get.html#gaea55629952c595bc8211d3333077dc51">apop_data_set</a>(s, .val=12);
assert(<a class="code" href="group__data__set__get.html#ga06107779e4a3eb229715ceca24352b89">apop_data_get</a>(s) == 12);

<span class="comment">//apop_data set holding a vector:</span>
<a class="code" href="structapop__data.html">apop_data</a> *v = <a class="code" href="apop_8h.html#ac39d6a56933b6f084328ec5ecd5090d8">apop_data_alloc</a>(12);
<span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt; 12; i++) <a class="code" href="group__data__set__get.html#gaea55629952c595bc8211d3333077dc51">apop_data_set</a>(s, i, .val=i*10);
assert(<a class="code" href="group__data__set__get.html#ga06107779e4a3eb229715ceca24352b89">apop_data_get</a>(s,3) == 30);
</pre></div><p>A call like <code> apop_data_set(in, row, col, data)</code> is much like the GSL's <code>gsl_matrix_set(in-&gt;matrix, row, col, data)</code>, but with some differences:</p>
<ul>
<li>The <a class="el" href="gentle.html#apop_data">apop_data</a> set has names, so we can get/set elements using those names. </li>
<li>The versions that take a column/row name use <a class="el" href="apop__name_8c.html#ac1b94277b0055f11d00f6dd26cb70e00">apop_name_find</a> for the search; see notes there on the name matching rules. </li>
<li>The <a class="el" href="gentle.html#apop_data">apop_data</a> set has both matrix and vector elements. </li>
<li>For those that take a column number, column -1 is the vector element. </li>
<li>For those that take a column name, I will search the vector last---if I don't find the name among the matrix columns, but the name matches the vector name, I return column -1. </li>
<li>If you give me both a .row and a .rowname, I go with the name; similarly for .col and .colname. </li>
<li>You can give me the name of a page, e.g. <div class="fragment"><pre class="fragment"><span class="keywordtype">double</span> AIC = <a class="code" href="group__data__set__get.html#ga06107779e4a3eb229715ceca24352b89">apop_data_get</a>(data, .rowname=<span class="stringliteral">&quot;AIC&quot;</span>, .col=-1, .page=<span class="stringliteral">&quot;&lt;Info&gt;&quot;</span>);
</pre></div></li>
</ul>
<ul>
<li>The column (like all defaults) is zero unless stated otherwise, so <code>apop_data_get(dataset, 1)</code> gets item (1, 0) from the matrix element of <code>dataset</code>. As a do-what-I-mean exception, if there is no matrix element but there is a vector, then this form will get vector element 1. Relying on this DWIM exception is useful iff you can guarantee that a data set will have only a vector or a matrix but not both. Otherwise, be explicit: <code>apop_data_get(dataset, 1, -1)</code>.</li>
</ul>
<p>The <code>_ptr</code> functions return a pointer to the given cell. Those functions follow the lead of <code>gsl_vector_ptr</code> and <code>gsl_matrix_ptr</code>, and like those functions, return a pointer to the appropriate <code>double</code>.</p>
<ul>
<li>These functions use the <a class="el" href="designated.html">Designated initializers</a> syntax for inputs. </li>
</ul>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="ga06107779e4a3eb229715ceca24352b89"></a><!-- doxytag: member="apop_data.c::apop_data_get" ref="ga06107779e4a3eb229715ceca24352b89" args="(const apop_data *data, size_t row, int col, const char *rowname, const char *colname, const char *page)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double <a class="el" href="group__data__set__get.html#ga06107779e4a3eb229715ceca24352b89">apop_data_get</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structapop__data.html">apop_data</a> *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>row</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>col</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>rowname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>colname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>page</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Returns the data element at the given point.</p>
<p>In case of error (probably that you asked for a data point out of bounds), returns <code>GSL_NAN</code>. See <a class="el" href="group__data__set__get.html">the set/get page</a> for details.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">data</td><td>The data set. Must not be <code>NULL</code>. </td></tr>
    <tr><td class="paramname">row</td><td>The row number of the desired element. If <code>rowname==NULL</code>, default is zero. </td></tr>
    <tr><td class="paramname">col</td><td>The column number of the desired element. -1 indicates the vector. If <code>colname==NULL</code>, default is zero. </td></tr>
    <tr><td class="paramname">rowname</td><td>The row name of the desired element. If <code>NULL</code>, use the row number. </td></tr>
    <tr><td class="paramname">colname</td><td>The column name of the desired element. If <code>NULL</code>, use the column number. </td></tr>
    <tr><td class="paramname">page</td><td>The case-insensitive name of the page on which the element is found. If <code>NULL</code>, use first page.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The value at the given location. </dd></dl>

</div>
</div>
<a class="anchor" id="ga59d1c0299c7eb87224bc6c60555784fe"></a><!-- doxytag: member="apop_data.c::apop_data_ptr" ref="ga59d1c0299c7eb87224bc6c60555784fe" args="(apop_data *data, int row, int col, const char *rowname, const char *colname, const char *page)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double* <a class="el" href="group__data__set__get.html#ga59d1c0299c7eb87224bc6c60555784fe">apop_data_ptr</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structapop__data.html">apop_data</a> *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>row</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>col</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>rowname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>colname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>page</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Get a pointer to an element of an <a class="el" href="gentle.html#apop_data">apop_data</a> set.</p>
<ul>
<li>If a <code>NULL</code> vector or matrix (as the case may be), stop (unless <code>apop_opts.stop_on_warning='n'</code>, then return <code>NULL</code>). </li>
<li>If the row/column you requested is outside the bounds of the matrix (or the name isn't found), always return <code>NULL</code>. </li>
<li>See <a class="el" href="group__data__set__get.html">the set/get page</a> for details.</li>
</ul>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">data</td><td>The data set. Must not be <code>NULL</code>. </td></tr>
    <tr><td class="paramname">row</td><td>The row number of the desired element. If <code>rowname==NULL</code>, default is zero. </td></tr>
    <tr><td class="paramname">col</td><td>The column number of the desired element. -1 indicates the vector. If <code>colname==NULL</code>, default is zero. </td></tr>
    <tr><td class="paramname">rowname</td><td>The row name of the desired element. If <code>NULL</code>, use the row number. </td></tr>
    <tr><td class="paramname">colname</td><td>The column name of the desired element. If <code>NULL</code>, use the column number. </td></tr>
    <tr><td class="paramname">page</td><td>The case-insensitive name of the page on which the element is found. If <code>NULL</code>, use first page.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>A pointer to the element. </dd></dl>

</div>
</div>
<a class="anchor" id="gaea55629952c595bc8211d3333077dc51"></a><!-- doxytag: member="apop_data.c::apop_data_set" ref="gaea55629952c595bc8211d3333077dc51" args="(apop_data *data, size_t row, int col, const double val, const char *colname, const char *rowname, const char *page)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="group__data__set__get.html#gaea55629952c595bc8211d3333077dc51">apop_data_set</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structapop__data.html">apop_data</a> *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>row</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>col</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const double&#160;</td>
          <td class="paramname"><em>val</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>colname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>rowname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>page</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Set a data element.</p>
<p>This function uses the <a class="el" href="designated.html">Designated initializers</a> syntax, so with names you don't have to worry about element ordering. But the ordering of elements may still be noteworthy. For compatibility with older editions of Apophenia, the order is (row, col, value, rowname, colname), so the following would all set row 3, column 8, of <code>d</code> to 5: </p>
<div class="fragment"><pre class="fragment">  <a class="code" href="group__data__set__get.html#gaea55629952c595bc8211d3333077dc51">apop_data_set</a>(d, 3, 8, 5);
  <a class="code" href="group__data__set__get.html#gaea55629952c595bc8211d3333077dc51">apop_data_set</a>(d, .row = 3, .col=8, .val=5);
  <a class="code" href="group__data__set__get.html#gaea55629952c595bc8211d3333077dc51">apop_data_set</a>(d, .row = 3, .colname=<span class="stringliteral">&quot;Column 8&quot;</span>, .val=5);
<span class="comment">//but:</span>
  <a class="code" href="group__data__set__get.html#gaea55629952c595bc8211d3333077dc51">apop_data_set</a>(d, .row = 3, .colname=<span class="stringliteral">&quot;Column 8&quot;</span>, 5);  <span class="comment">//invalid---the value doesn&#39;t follow the colname.</span>
</pre></div><dl class="return"><dt><b>Returns:</b></dt><dd>0=OK, -1=error (couldn't find row/column name, or you asked for a location outside the vector/matrix bounds).</dd></dl>
<ul>
<li>The error codes for out-of-bounds errors are thread-safe iff you are have a C11-compliant compiler (thanks to the <code>_Thread_local</code> keyword) or a version of GCC with the <code>__thread</code> extension enabled.</li>
</ul>
<p>See <a class="el" href="group__data__set__get.html">the set/get page</a> for details.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">data</td><td>The data set. Must not be <code>NULL</code>. </td></tr>
    <tr><td class="paramname">row</td><td>The row number of the desired element. If <code>rowname==NULL</code>, default is zero. </td></tr>
    <tr><td class="paramname">col</td><td>The column number of the desired element. -1 indicates the vector. If <code>colname==NULL</code>, default is zero. </td></tr>
    <tr><td class="paramname">rowname</td><td>The row name of the desired element. If <code>NULL</code>, use the row number. </td></tr>
    <tr><td class="paramname">colname</td><td>The column name of the desired element. If <code>NULL</code>, use the column number. </td></tr>
    <tr><td class="paramname">page</td><td>The case-insensitive name of the page on which the element is found. If <code>NULL</code>, use first page. </td></tr>
    <tr><td class="paramname">val</td><td>The value to give the point.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The value at the given location. </dd></dl>

</div>
</div>
</div><!-- contents -->
<p><p>
<div class="tiny">Autogenerated by doxygen on Sun Jan 26 2014.</div></body></html>
