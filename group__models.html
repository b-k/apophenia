<!-- HTML header for doxygen 1.8.9.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
     <title>Apophenia: a library for scientific computing</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
     <link rel="stylesheet" href="typical.css" type="text/css" >
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<!-- Google is watching. -->
<script src="http://www.google-analytics.com/urchin.js" type="text/javascript">
</script>
<script type="text/javascript">
_uacct = "UA-134313-2";
urchinTracker();
</script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="typical.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<center><table cellpadding=10pt>
<tr> <td><img width=140px src=flake.gif alt="Patterns in static"></td>
<td><table>
    <tr> <td><center><h2><a href="http://apophenia.info">Apophenia</a></h2></center></td></tr>
    <tr><td><div class="qindex"> <a class="qindex" href="outline.html">Outline</a> | <a class="qindex" href="group__all__public.html">Index </a>  |         <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
                <!-- <a class="qindex" href="files.html">File&nbsp;List&nbsp;</a> -->  </div></td></tr></table>
                                  </td></tr></table></center>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group__models.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#enum-members">Enumerations</a>  </div>
  <div class="headertitle">
<div class="title">Models</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:gac5437f95ff92d27f389a7b3e27812330"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__models.html#gac5437f95ff92d27f389a7b3e27812330">apop_bernoulli</a> { <br />
&#160;&#160;<a class="el" href="group__models.html#ggac5437f95ff92d27f389a7b3e27812330ad36eb2b479fabf747ff436cfcd058420">Name</a>, 
<a class="el" href="group__models.html#ggac5437f95ff92d27f389a7b3e27812330a1d9fc901db36a3b24ac475dbaff49df6">Input format</a>, 
<a class="el" href="group__models.html#ggac5437f95ff92d27f389a7b3e27812330af45fd62f650f91cb5d92db4886d65ae9">Post-estimate data</a>, 
<a class="el" href="group__models.html#ggac5437f95ff92d27f389a7b3e27812330ad845d1c1d281f4ce55168350f90c3b28">Post-estimate parameters</a>, 
<br />
&#160;&#160;<a class="el" href="group__models.html#ggac5437f95ff92d27f389a7b3e27812330accbedd29e929979f4259e5fccf901a06">Post-estimate info</a>, 
<a class="el" href="group__models.html#ggac5437f95ff92d27f389a7b3e27812330ad1562cca7500647c341ac3b84bda0104">RNG</a>
<br />
 }</td></tr>
<tr class="separator:gac5437f95ff92d27f389a7b3e27812330"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac11decb2971532ada7d2cd4982848b90"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__models.html#gac11decb2971532ada7d2cd4982848b90">apop_beta</a> { <br />
&#160;&#160;<a class="el" href="group__models.html#ggac11decb2971532ada7d2cd4982848b90a52c6218388fef76af9d86aeaf26ac50e">Name</a>, 
<a class="el" href="group__models.html#ggac11decb2971532ada7d2cd4982848b90aa9d5a38d5b8e874872a504c8bf3e945e">Input format</a>, 
<a class="el" href="group__models.html#ggac11decb2971532ada7d2cd4982848b90a3447d4228981ba88dd1bc33440dcc35e">Parameter format</a>, 
<a class="el" href="group__models.html#ggac11decb2971532ada7d2cd4982848b90aa37a82e249fbc07ef7d1520fb7b97dd6">Post-estimate data</a>, 
<br />
&#160;&#160;<a class="el" href="group__models.html#ggac11decb2971532ada7d2cd4982848b90a9951937ec4d7ad7c04b13eb361c356fe">Post-estimate info</a>, 
<a class="el" href="group__models.html#ggac11decb2971532ada7d2cd4982848b90a7759588538279517d81d488abe856054">RNG</a>
<br />
 }</td></tr>
<tr class="separator:gac11decb2971532ada7d2cd4982848b90"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga20017e88fda3695f093279c8191f48e3"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__models.html#ga20017e88fda3695f093279c8191f48e3">apop_binomial</a> { <a class="el" href="group__models.html#gga20017e88fda3695f093279c8191f48e3a7a1755c8ca65cf5551909f25d3b042f6">Input format</a>, 
<a class="el" href="group__models.html#gga20017e88fda3695f093279c8191f48e3a9c988ee166d5a315df1f0e410525c051">Parameter format</a>, 
<a class="el" href="group__models.html#gga20017e88fda3695f093279c8191f48e3a12be3956f1279d24dc7125f6efa2ecb2">Post-estimate data</a>, 
<a class="el" href="group__models.html#gga20017e88fda3695f093279c8191f48e3a4dee8c9369343de8212aad958ca6a40e">RNG</a>
 }</td></tr>
<tr class="separator:ga20017e88fda3695f093279c8191f48e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga80caa743557a86dffa2dd1db64421d82"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__models.html#ga80caa743557a86dffa2dd1db64421d82">apop_coordinate_transform</a> { <a class="el" href="group__models.html#gga80caa743557a86dffa2dd1db64421d82a782aef23781c145cfd6a2fc52f501b89">Name</a>, 
<a class="el" href="group__models.html#gga80caa743557a86dffa2dd1db64421d82aa18b274afda98ff697a2a01801e84449">Input format</a>, 
<a class="el" href="group__models.html#gga80caa743557a86dffa2dd1db64421d82a8265cab239f08cf1fde8ffa59cd8c012">Post-estimate data</a>, 
<a class="el" href="group__models.html#gga80caa743557a86dffa2dd1db64421d82a0a2a8cbcb75d232a0d723e135e10bfab">Settings</a>
 }</td></tr>
<tr class="separator:ga80caa743557a86dffa2dd1db64421d82"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7d33309b547d525c7325c062f4bc774f"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__models.html#ga7d33309b547d525c7325c062f4bc774f">apop_cross</a> { <br />
&#160;&#160;<a class="el" href="group__models.html#gga7d33309b547d525c7325c062f4bc774fa03f9f90a4557f99e7b984a8995df66d9">Name</a>, 
<a class="el" href="group__models.html#gga7d33309b547d525c7325c062f4bc774fa79fbaad5ca865f26fe5160a62a6a9c69">Input format</a>, 
<a class="el" href="group__models.html#gga7d33309b547d525c7325c062f4bc774fa19c5a60231405a9c0310313d204501d8">Parameter format</a>, 
<a class="el" href="group__models.html#gga7d33309b547d525c7325c062f4bc774fae2d7cea7fb9c69581154e05ef156e569">Post-estimate data</a>, 
<br />
&#160;&#160;<a class="el" href="group__models.html#gga7d33309b547d525c7325c062f4bc774fa756953323527eb2136565e074e280217">Settings</a>
<br />
 }</td></tr>
<tr class="separator:ga7d33309b547d525c7325c062f4bc774f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa58cece77dea73979ea15d64ea11b049"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__models.html#gaa58cece77dea73979ea15d64ea11b049">apop_dconstrain</a> { <br />
&#160;&#160;<a class="el" href="group__models.html#ggaa58cece77dea73979ea15d64ea11b049a939bad7138e546e374a05d679427e094">Name</a>, 
<a class="el" href="group__models.html#ggaa58cece77dea73979ea15d64ea11b049acb8c02a21f3da6042709dee80482a41f">Input format</a>, 
<a class="el" href="group__models.html#ggaa58cece77dea73979ea15d64ea11b049abf6b36f5a7b0871bca53ef89607c583f">Parameter format</a>, 
<a class="el" href="group__models.html#ggaa58cece77dea73979ea15d64ea11b049a66008e2309b456e6193ac21ef008fc06">Post-estimate data</a>, 
<br />
&#160;&#160;<a class="el" href="group__models.html#ggaa58cece77dea73979ea15d64ea11b049a0cf356d574f4179201e2c441f2c11854">RNG</a>, 
<a class="el" href="group__models.html#ggaa58cece77dea73979ea15d64ea11b049aaf83cd4a0e255b8ca14b91115716382f">Settings</a>, 
<a class="el" href="group__models.html#ggaa58cece77dea73979ea15d64ea11b049a4e60a7169a079e2e86af36cc5e55f91c">Examples</a>
<br />
 }</td></tr>
<tr class="separator:gaa58cece77dea73979ea15d64ea11b049"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3199e483f340d6cedaa6488565c42c78"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__models.html#ga3199e483f340d6cedaa6488565c42c78">apop_dirichlet</a> { <br />
&#160;&#160;<a class="el" href="group__models.html#gga3199e483f340d6cedaa6488565c42c78a8340de4a3c0c8d18b863dfa74bd6a840">Name</a>, 
<a class="el" href="group__models.html#gga3199e483f340d6cedaa6488565c42c78a4d4c552d34250864aee09c19751ef626">Input format</a>, 
<a class="el" href="group__models.html#gga3199e483f340d6cedaa6488565c42c78a2f3f79a4405bb7bd324ff24d16da91fd">Parameter format</a>, 
<a class="el" href="group__models.html#gga3199e483f340d6cedaa6488565c42c78a4f3353540d5de02f33cceb4c9a7bc6de">Post-estimate data</a>, 
<br />
&#160;&#160;<a class="el" href="group__models.html#gga3199e483f340d6cedaa6488565c42c78a6ddfb70363d00ec1b35720702499b1ea">RNG</a>
<br />
 }</td></tr>
<tr class="separator:ga3199e483f340d6cedaa6488565c42c78"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga76b45a5681d30906572263eeef35aeff"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__models.html#ga76b45a5681d30906572263eeef35aeff">apop_exponential</a> { <br />
&#160;&#160;<a class="el" href="group__models.html#gga76b45a5681d30906572263eeef35aeffaffeaf3980827760d876cffb753898c5c">Name</a>, 
<a class="el" href="group__models.html#gga76b45a5681d30906572263eeef35aeffa2ac2e3fb4fd35efa423bcd7a26f407ef">Input format</a>, 
<a class="el" href="group__models.html#gga76b45a5681d30906572263eeef35aeffa3957dda06cb96eda2b7bbd9430e2f982">Parameter format</a>, 
<a class="el" href="group__models.html#gga76b45a5681d30906572263eeef35aeffa230e5293bfc2da7ed89b29447768acb2">Post-estimate data</a>, 
<br />
&#160;&#160;<a class="el" href="group__models.html#gga76b45a5681d30906572263eeef35aeffabbcf485c7c8365e0aefbde89805f64f8">RNG</a>, 
<a class="el" href="group__models.html#gga76b45a5681d30906572263eeef35aeffa4f17fcb97d296926f36cdd9d03f3c060">CDF</a>
<br />
 }</td></tr>
<tr class="separator:ga76b45a5681d30906572263eeef35aeff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad11b67493ee1e2038696268a38609367"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__models.html#gad11b67493ee1e2038696268a38609367">apop_gamma</a> { <br />
&#160;&#160;<a class="el" href="group__models.html#ggad11b67493ee1e2038696268a38609367ab0b477b362bd36f50629b1ff1ef6fb4d">Name</a>, 
<a class="el" href="group__models.html#ggad11b67493ee1e2038696268a38609367a7ee333771b769abce9d0e94c644ed8e5">Input format</a>, 
<a class="el" href="group__models.html#ggad11b67493ee1e2038696268a38609367a5c0b61156e3d554ec44479c759d243c7">Parameter format</a>, 
<a class="el" href="group__models.html#ggad11b67493ee1e2038696268a38609367aad596a6d91fcf5ef06ba925a54660ad6">Post-estimate data</a>, 
<br />
&#160;&#160;<a class="el" href="group__models.html#ggad11b67493ee1e2038696268a38609367a3a6bc6fd71f9c510e35eeb12ea894c0d">RNG</a>
<br />
 }</td></tr>
<tr class="separator:gad11b67493ee1e2038696268a38609367"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8b3ad07d082de47bc9cd85661fe9fc4b"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__models.html#ga8b3ad07d082de47bc9cd85661fe9fc4b">apop_improper_uniform</a> { <br />
&#160;&#160;<a class="el" href="group__models.html#gga8b3ad07d082de47bc9cd85661fe9fc4bac8fafb1ef91614dc553692fa17938a6b">Name</a>, 
<a class="el" href="group__models.html#gga8b3ad07d082de47bc9cd85661fe9fc4bafaa690fe4d8b0f234571c8432a307d7f">Input format</a>, 
<a class="el" href="group__models.html#gga8b3ad07d082de47bc9cd85661fe9fc4bae0bd6804b1704f48b4b82f748ee0c47a">Parameter format</a>, 
<a class="el" href="group__models.html#gga8b3ad07d082de47bc9cd85661fe9fc4ba6f2f15e89964f8195ee74d5a687444b8">Post-estimate data</a>, 
<br />
&#160;&#160;<a class="el" href="group__models.html#gga8b3ad07d082de47bc9cd85661fe9fc4ba3c4716485f54402f9815cfc0a019e7df">Post-estimate parameters</a>, 
<a class="el" href="group__models.html#gga8b3ad07d082de47bc9cd85661fe9fc4badbbfcc653f9f675cded4b381858fada6">RNG</a>, 
<a class="el" href="group__models.html#gga8b3ad07d082de47bc9cd85661fe9fc4ba0185962a48d96ee484b44816aade5803">CDF</a>
<br />
 }</td></tr>
<tr class="separator:ga8b3ad07d082de47bc9cd85661fe9fc4b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1efcbbe0410c89401354c762363a909f"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__models.html#ga1efcbbe0410c89401354c762363a909f">apop_iv</a> { <br />
&#160;&#160;<a class="el" href="group__models.html#gga1efcbbe0410c89401354c762363a909fa7061bf9131a530c7172730e68935e25f">Name</a>, 
<a class="el" href="group__models.html#gga1efcbbe0410c89401354c762363a909faffcf0cd4d89c436e0f50880d375eed0a">Input format</a>, 
<a class="el" href="group__models.html#gga1efcbbe0410c89401354c762363a909fa3209c95ab1d76245097418fa55f600ba">Prep routine</a>, 
<a class="el" href="group__models.html#gga1efcbbe0410c89401354c762363a909fa9eaf19a93e79a6d361ee799dee2d0ffc">Parameter format</a>, 
<br />
&#160;&#160;<a class="el" href="group__models.html#gga1efcbbe0410c89401354c762363a909fa329b93642308a1bdb11fac9e5455fece">Post-estimate data</a>, 
<a class="el" href="group__models.html#gga1efcbbe0410c89401354c762363a909fa3b01a327a34d2a28cccd0c4f54fabd0c">Examples</a>
<br />
 }</td></tr>
<tr class="separator:ga1efcbbe0410c89401354c762363a909f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaded18b6bf8bd63a53f7b72ed5f27fdb5"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__models.html#gaded18b6bf8bd63a53f7b72ed5f27fdb5">apop_kernel_density</a> { <br />
&#160;&#160;<a class="el" href="group__models.html#ggaded18b6bf8bd63a53f7b72ed5f27fdb5a4e14854658e112e2eaeda9d357e4b0cf">Name</a>, 
<a class="el" href="group__models.html#ggaded18b6bf8bd63a53f7b72ed5f27fdb5a623809abf09b48226a4082e67a150365">Input format</a>, 
<a class="el" href="group__models.html#ggaded18b6bf8bd63a53f7b72ed5f27fdb5afac163b35f7d221ff2758b1656d266cc">Parameter format</a>, 
<a class="el" href="group__models.html#ggaded18b6bf8bd63a53f7b72ed5f27fdb5a8fe83051ca646e57cc829ca30c4fdc57">Post-estimate data</a>, 
<br />
&#160;&#160;<a class="el" href="group__models.html#ggaded18b6bf8bd63a53f7b72ed5f27fdb5a55b3f592cfb119a98e9271136d8f0472">RNG</a>, 
<a class="el" href="group__models.html#ggaded18b6bf8bd63a53f7b72ed5f27fdb5a0107a538ec9642e42af2421c5f341a5e">CDF</a>, 
<a class="el" href="group__models.html#ggaded18b6bf8bd63a53f7b72ed5f27fdb5a90b05b303046e7d2c764469df65c0693">Settings</a>, 
<a class="el" href="group__models.html#ggaded18b6bf8bd63a53f7b72ed5f27fdb5adfe6bde7217c7ef7608fb1de6790ca8e">Examples</a>
<br />
 }</td></tr>
<tr class="separator:gaded18b6bf8bd63a53f7b72ed5f27fdb5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf7d01cc4076c9319036a0cce882dac62"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__models.html#gaf7d01cc4076c9319036a0cce882dac62">apop_loess</a> { <br />
&#160;&#160;<a class="el" href="group__models.html#ggaf7d01cc4076c9319036a0cce882dac62a9b0ac23dff498a53a6000fdec0db5416">Name</a>, 
<a class="el" href="group__models.html#ggaf7d01cc4076c9319036a0cce882dac62a94c8339423d3b2beb26ff316f9da2fa2">Input format</a>, 
<a class="el" href="group__models.html#ggaf7d01cc4076c9319036a0cce882dac62a66b0b4b64c2b1e8d705fa9e6aaaeb272">Parameter format</a>, 
<a class="el" href="group__models.html#ggaf7d01cc4076c9319036a0cce882dac62a4256343d75bdea32987048e03b090fe4">Post-estimate data</a>, 
<br />
&#160;&#160;<a class="el" href="group__models.html#ggaf7d01cc4076c9319036a0cce882dac62a96c9305f64fc6db44b01413037319d13">Post-estimate parameters</a>, 
<a class="el" href="group__models.html#ggaf7d01cc4076c9319036a0cce882dac62a75605197727f9762a8347102cee2c378">Predict</a>
<br />
 }</td></tr>
<tr class="separator:gaf7d01cc4076c9319036a0cce882dac62"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa88a402cf7d02c25c4613a74ace1b0c1"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__models.html#gaa88a402cf7d02c25c4613a74ace1b0c1">apop_logit</a> { <br />
&#160;&#160;<a class="el" href="group__models.html#ggaa88a402cf7d02c25c4613a74ace1b0c1a768face88a8da38940f85fd8f2b358b7">Name</a>, 
<a class="el" href="group__models.html#ggaa88a402cf7d02c25c4613a74ace1b0c1a7726ba92ff736932c6c1d46b94ac4d24">Input format</a>, 
<a class="el" href="group__models.html#ggaa88a402cf7d02c25c4613a74ace1b0c1a601dbec8df12679c3916650c3697694f">Prep routine</a>, 
<a class="el" href="group__models.html#ggaa88a402cf7d02c25c4613a74ace1b0c1aa6bd610f2d8f49e31e356ba35f7e36ad">Parameter format</a>, 
<br />
&#160;&#160;<a class="el" href="group__models.html#ggaa88a402cf7d02c25c4613a74ace1b0c1ad5ceeb40a5e40feb7f3cdddf8a1185d4">Post-estimate data</a>, 
<a class="el" href="group__models.html#ggaa88a402cf7d02c25c4613a74ace1b0c1a6c65270f204ee95d6da7276c1f6d8380">RNG</a>
<br />
 }</td></tr>
<tr class="separator:gaa88a402cf7d02c25c4613a74ace1b0c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4a917e02f41e9c6a0ad5e084e3ca42d2"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__models.html#ga4a917e02f41e9c6a0ad5e084e3ca42d2">apop_lognormal</a> { <br />
&#160;&#160;<a class="el" href="group__models.html#gga4a917e02f41e9c6a0ad5e084e3ca42d2adb6a81fcf2b54bab8165696ece5227ce">Name</a>, 
<a class="el" href="group__models.html#gga4a917e02f41e9c6a0ad5e084e3ca42d2ac547ac38eecf3539f87ac78a07e3fa4a">Input format</a>, 
<a class="el" href="group__models.html#gga4a917e02f41e9c6a0ad5e084e3ca42d2a275208d856442dc1f451495b6cd34a94">Parameter format</a>, 
<a class="el" href="group__models.html#gga4a917e02f41e9c6a0ad5e084e3ca42d2a8c2181b35ce4eb3d5cf1c33a510b0ba9">Post-estimate data</a>, 
<br />
&#160;&#160;<a class="el" href="group__models.html#gga4a917e02f41e9c6a0ad5e084e3ca42d2ac29238047c4e65656c8b1c421e6629a6">Post-estimate info</a>, 
<a class="el" href="group__models.html#gga4a917e02f41e9c6a0ad5e084e3ca42d2aad44e68967d3122e159497a8f08d3afb">RNG</a>
<br />
 }</td></tr>
<tr class="separator:ga4a917e02f41e9c6a0ad5e084e3ca42d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf085564a8adc67ba156c4cd1db8145e3"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__models.html#gaf085564a8adc67ba156c4cd1db8145e3">apop_mixture</a> { <br />
&#160;&#160;<a class="el" href="group__models.html#ggaf085564a8adc67ba156c4cd1db8145e3a1af3011977da3fea6e97e3e5fbe2f004">Name</a>, 
<a class="el" href="group__models.html#ggaf085564a8adc67ba156c4cd1db8145e3aaeaea98d49d679291ffaa2b3a4ddb326">Input format</a>, 
<a class="el" href="group__models.html#ggaf085564a8adc67ba156c4cd1db8145e3a77178797f67033e1338416141a0e6e78">Parameter format</a>, 
<a class="el" href="group__models.html#ggaf085564a8adc67ba156c4cd1db8145e3ac27a314a1a3d6fd4b65b2d24c13e4e62">Post-estimate data</a>, 
<br />
&#160;&#160;<a class="el" href="group__models.html#ggaf085564a8adc67ba156c4cd1db8145e3a8946db26fadffdb325dd95401be6b31b">RNG</a>, 
<a class="el" href="group__models.html#ggaf085564a8adc67ba156c4cd1db8145e3a9b1ebfd48939eabd26c98cbc69bac559">Settings</a>, 
<a class="el" href="group__models.html#ggaf085564a8adc67ba156c4cd1db8145e3a9fd1e9338cf13b2752a9423bfd4393ea">Examples</a>
<br />
 }</td></tr>
<tr class="separator:gaf085564a8adc67ba156c4cd1db8145e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gacd7823e794194d3646d586484833882a"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__models.html#gacd7823e794194d3646d586484833882a">apop_multinomial</a> { <br />
&#160;&#160;<a class="el" href="group__models.html#ggacd7823e794194d3646d586484833882aabcb240df2d575c612a407518ee7cd751">Name</a>, 
<a class="el" href="group__models.html#ggacd7823e794194d3646d586484833882aada7bee035b320a28dcd81dba16e3530a">Input format</a>, 
<a class="el" href="group__models.html#ggacd7823e794194d3646d586484833882aa9924bce9086c9687768c2946ed9c56f0">Parameter format</a>, 
<a class="el" href="group__models.html#ggacd7823e794194d3646d586484833882aab4c93835f96033cfe3b275f623464180">Post-estimate data</a>, 
<br />
&#160;&#160;<a class="el" href="group__models.html#ggacd7823e794194d3646d586484833882aa2bdaf2f1ac14cb75cb9e98aa8bdeab4a">Post-estimate info</a>, 
<a class="el" href="group__models.html#ggacd7823e794194d3646d586484833882aa82a752cff9ca429d5035170b244496aa">RNG</a>
<br />
 }</td></tr>
<tr class="separator:gacd7823e794194d3646d586484833882a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3a4389e6e2a1a2ea606f89d55ec558d3"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__models.html#ga3a4389e6e2a1a2ea606f89d55ec558d3">apop_multivariate_normal</a> { <br />
&#160;&#160;<a class="el" href="group__models.html#gga3a4389e6e2a1a2ea606f89d55ec558d3a4b84be1fb79a6a64fe769f38f502f5bb">Name</a>, 
<a class="el" href="group__models.html#gga3a4389e6e2a1a2ea606f89d55ec558d3a5a5b393fddcc7b1fa1a78c030a672ba6">Input format</a>, 
<a class="el" href="group__models.html#gga3a4389e6e2a1a2ea606f89d55ec558d3a87d5e0dae55445e170a13f8af7afccc0">Parameter format</a>, 
<a class="el" href="group__models.html#gga3a4389e6e2a1a2ea606f89d55ec558d3ae02d3373ba1963b7e13737d58d257983">Post-estimate data</a>, 
<br />
&#160;&#160;<a class="el" href="group__models.html#gga3a4389e6e2a1a2ea606f89d55ec558d3aa539b5dc848d7c09947fc22ef87cbe1c">Post-estimate info</a>, 
<a class="el" href="group__models.html#gga3a4389e6e2a1a2ea606f89d55ec558d3ac6231fb185d75498d6071812974e5e90">RNG</a>
<br />
 }</td></tr>
<tr class="separator:ga3a4389e6e2a1a2ea606f89d55ec558d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga297c2dc8dbdf4ae93fc7e10860400466"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__models.html#ga297c2dc8dbdf4ae93fc7e10860400466">apop_normal</a> { <br />
&#160;&#160;<a class="el" href="group__models.html#gga297c2dc8dbdf4ae93fc7e10860400466a7e9d07d117adcc3e70c97f846f03003c">Name</a>, 
<a class="el" href="group__models.html#gga297c2dc8dbdf4ae93fc7e10860400466aaa15b17d2202559927e802902e9502b6">Input format</a>, 
<a class="el" href="group__models.html#gga297c2dc8dbdf4ae93fc7e10860400466ab26fab7da0a30d6a66ab5b8bc6e54c9f">Parameter format</a>, 
<a class="el" href="group__models.html#gga297c2dc8dbdf4ae93fc7e10860400466a3cd5282beba7367ba6ddc50376922a05">Post-estimate data</a>, 
<br />
&#160;&#160;<a class="el" href="group__models.html#gga297c2dc8dbdf4ae93fc7e10860400466a3b08207668630e4eda478e64898048ea">Post-estimate info</a>, 
<a class="el" href="group__models.html#gga297c2dc8dbdf4ae93fc7e10860400466a1b67002cb1fa3c03dcdd40fbded94b19">Predict</a>, 
<a class="el" href="group__models.html#gga297c2dc8dbdf4ae93fc7e10860400466a3a3cffad0b7ca17d9fd78dcc68052a5b">RNG</a>, 
<a class="el" href="group__models.html#gga297c2dc8dbdf4ae93fc7e10860400466a8ef5a14c6abdd25509d85b3b8caabf18">Settings</a>
<br />
 }</td></tr>
<tr class="separator:ga297c2dc8dbdf4ae93fc7e10860400466"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga85524b1deabd5829227888fd91740cc3"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__models.html#ga85524b1deabd5829227888fd91740cc3">apop_ols</a> { <br />
&#160;&#160;<a class="el" href="group__models.html#gga85524b1deabd5829227888fd91740cc3a3653e32f34c0e7cbee2d48e66b1b7f62">Name</a>, 
<a class="el" href="group__models.html#gga85524b1deabd5829227888fd91740cc3a477a78c629d063a0bfa6760516adb703">Input format</a>, 
<a class="el" href="group__models.html#gga85524b1deabd5829227888fd91740cc3aa33bfef67569eaf7a0d558f3eb485c7c">Prep routine</a>, 
<a class="el" href="group__models.html#gga85524b1deabd5829227888fd91740cc3a6a7cc6d1c86c9453b90a4b8c6619910e">Parameter format</a>, 
<br />
&#160;&#160;<a class="el" href="group__models.html#gga85524b1deabd5829227888fd91740cc3a90fe8b700f7c667e7d897154dfb10281">Post-estimate data</a>, 
<a class="el" href="group__models.html#gga85524b1deabd5829227888fd91740cc3a6b33e26e68adbb205a62448d4808017f">Post-estimate parameter model</a>, 
<a class="el" href="group__models.html#gga85524b1deabd5829227888fd91740cc3abbb7fd22f48ee089a15aa29ba6338f4d">Post-estimate info</a>, 
<a class="el" href="group__models.html#gga85524b1deabd5829227888fd91740cc3a686e28adf99c0b3146df29c4fe59b51c">RNG</a>, 
<br />
&#160;&#160;<a class="el" href="group__models.html#gga85524b1deabd5829227888fd91740cc3a440a65ebef685ff0e69f24d97f20fc4e">Examples</a>
<br />
 }</td></tr>
<tr class="separator:ga85524b1deabd5829227888fd91740cc3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaca8f3323c57e0223a9f3c0f991c9760e"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__models.html#gaca8f3323c57e0223a9f3c0f991c9760e">apop_pmf</a> { <br />
&#160;&#160;<a class="el" href="group__models.html#ggaca8f3323c57e0223a9f3c0f991c9760ea04fa96e9cd74fe9d13099646d4884700">Name</a>, 
<a class="el" href="group__models.html#ggaca8f3323c57e0223a9f3c0f991c9760ea67c36e9eef40d99c79fbee04282874c4">Input format</a>, 
<a class="el" href="group__models.html#ggaca8f3323c57e0223a9f3c0f991c9760eac96e7d7825c0df6dbb6d2c68b146cff6">Parameter format</a>, 
<a class="el" href="group__models.html#ggaca8f3323c57e0223a9f3c0f991c9760ea3b3a0a7363098de9cd5e3e5cd2a5ba7b">Post-estimate data</a>, 
<br />
&#160;&#160;<a class="el" href="group__models.html#ggaca8f3323c57e0223a9f3c0f991c9760ea2dd0a77edd0e72c4477bc7085c034c61">Post-estimate parameters</a>, 
<a class="el" href="group__models.html#ggaca8f3323c57e0223a9f3c0f991c9760ea952f9efe79f2f37f95d8b2c43ffd64d7">RNG</a>, 
<a class="el" href="group__models.html#ggaca8f3323c57e0223a9f3c0f991c9760ea433df8e1f1bbb986f9c49a431c9a5e89">CDF</a>, 
<a class="el" href="group__models.html#ggaca8f3323c57e0223a9f3c0f991c9760ea8500a0b2fd2470ba7fcdf93a8f1be8c2">Settings</a>
<br />
 }</td></tr>
<tr class="separator:gaca8f3323c57e0223a9f3c0f991c9760e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9c67838a4761452cc2c9113557f2a070"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__models.html#ga9c67838a4761452cc2c9113557f2a070">apop_poisson</a> { <br />
&#160;&#160;<a class="el" href="group__models.html#gga9c67838a4761452cc2c9113557f2a070affd081bcb4368f169538c14bebd4020c">Name</a>, 
<a class="el" href="group__models.html#gga9c67838a4761452cc2c9113557f2a070a2e767a027546109b44c899bab669101c">Input format</a>, 
<a class="el" href="group__models.html#gga9c67838a4761452cc2c9113557f2a070adcb38d478c57f0423f91f0f87a1ea029">Parameter format</a>, 
<a class="el" href="group__models.html#gga9c67838a4761452cc2c9113557f2a070a4db066cf9dfea3960b6199c7deda9a46">Post-estimate data</a>, 
<br />
&#160;&#160;<a class="el" href="group__models.html#gga9c67838a4761452cc2c9113557f2a070a0987d6bb2c177dd64dbe3b32687fa3a0">Post-estimate parameters</a>, 
<a class="el" href="group__models.html#gga9c67838a4761452cc2c9113557f2a070a457890560db963048295c3fb487e2e05">Post-estimate info</a>, 
<a class="el" href="group__models.html#gga9c67838a4761452cc2c9113557f2a070a38c95407fb642dcd3af88742320657b2">RNG</a>
<br />
 }</td></tr>
<tr class="separator:ga9c67838a4761452cc2c9113557f2a070"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga319b8e3d5025a6fc94829a978273eb8b"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__models.html#ga319b8e3d5025a6fc94829a978273eb8b">apop_probit</a> { <br />
&#160;&#160;<a class="el" href="group__models.html#gga319b8e3d5025a6fc94829a978273eb8bab50a9cab69449ac7f463fb901ed4d9f5">Name</a>, 
<a class="el" href="group__models.html#gga319b8e3d5025a6fc94829a978273eb8ba34d07ea4c98e604347548d1df317a876">Input format</a>, 
<a class="el" href="group__models.html#gga319b8e3d5025a6fc94829a978273eb8ba1acb0091048b74b09c8fab12166df37e">Prep routine</a>, 
<a class="el" href="group__models.html#gga319b8e3d5025a6fc94829a978273eb8ba30dbfb278b2779b1961a172b1c40fd04">Parameter format</a>, 
<br />
&#160;&#160;<a class="el" href="group__models.html#gga319b8e3d5025a6fc94829a978273eb8bacd1df4b256520c43acf031b76b5110de">Post-estimate data</a>, 
<a class="el" href="group__models.html#gga319b8e3d5025a6fc94829a978273eb8baa303657d67034088f70259a90b1d9add">RNG</a>
<br />
 }</td></tr>
<tr class="separator:ga319b8e3d5025a6fc94829a978273eb8b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga45ce986bd5ea79c39877792bec39a304"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__models.html#ga45ce986bd5ea79c39877792bec39a304">apop_t_distribution</a> { <a class="el" href="group__models.html#gga45ce986bd5ea79c39877792bec39a304a7a36b9c3f94d21e01cee5cf096d907e8">Name</a>, 
<a class="el" href="group__models.html#gga45ce986bd5ea79c39877792bec39a304a1447a7e2de7876a649185166e0e3471e">Input format</a>, 
<a class="el" href="group__models.html#gga45ce986bd5ea79c39877792bec39a304addf9c786868d2562b43e0de520c08093">Parameter format</a>, 
<a class="el" href="group__models.html#gga45ce986bd5ea79c39877792bec39a304a0f21eee076e841f1f37c81d430827f3a">Post-estimate data</a>
 }</td></tr>
<tr class="separator:ga45ce986bd5ea79c39877792bec39a304"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga95be4cc3931072118a7c8ffece73fbe1"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__models.html#ga95be4cc3931072118a7c8ffece73fbe1">apop_uniform</a> { <br />
&#160;&#160;<a class="el" href="group__models.html#gga95be4cc3931072118a7c8ffece73fbe1ababfaf1a72b65c49015531fc834dec2c">Name</a>, 
<a class="el" href="group__models.html#gga95be4cc3931072118a7c8ffece73fbe1a734eddf4822216b6f93333920b8b4979">Input format</a>, 
<a class="el" href="group__models.html#gga95be4cc3931072118a7c8ffece73fbe1a2648c8cf817b5ad0f4cb16a4beef1a9e">Parameter format</a>, 
<a class="el" href="group__models.html#gga95be4cc3931072118a7c8ffece73fbe1ac157fb8e7372793d5c7f869117e07bd4">Post-estimate data</a>, 
<br />
&#160;&#160;<a class="el" href="group__models.html#gga95be4cc3931072118a7c8ffece73fbe1a11359298e4f19a7216648d2b62210c25">Post-estimate info</a>
<br />
 }</td></tr>
<tr class="separator:ga95be4cc3931072118a7c8ffece73fbe1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1ddf478052543e1d801dfc64c99bcbe3"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__models.html#ga1ddf478052543e1d801dfc64c99bcbe3">apop_yule</a> { <br />
&#160;&#160;<a class="el" href="group__models.html#gga1ddf478052543e1d801dfc64c99bcbe3a47be6e14065fb7fb6d6798fba8fa678d">Name</a>, 
<a class="el" href="group__models.html#gga1ddf478052543e1d801dfc64c99bcbe3aedb16fc5b73493bf31579465948ab050">Input format</a>, 
<a class="el" href="group__models.html#gga1ddf478052543e1d801dfc64c99bcbe3afc222a2955e5658833caf10ee45f3a14">Parameter format</a>, 
<a class="el" href="group__models.html#gga1ddf478052543e1d801dfc64c99bcbe3a7a6ff3dd80506d1bb00c476f2062b9c5">Post-estimate data</a>, 
<br />
&#160;&#160;<a class="el" href="group__models.html#gga1ddf478052543e1d801dfc64c99bcbe3ac3117fc1e6f4e6a1e5d6634d438c196f">RNG</a>, 
<a class="el" href="group__models.html#gga1ddf478052543e1d801dfc64c99bcbe3a0ac8b78149fa48de4101740a68b22f33">Settings</a>
<br />
 }</td></tr>
<tr class="separator:ga1ddf478052543e1d801dfc64c99bcbe3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga32e7ca1164025cbb53a9e0ecee9d4cea"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__models.html#ga32e7ca1164025cbb53a9e0ecee9d4cea">apop_zipf</a> { <br />
&#160;&#160;<a class="el" href="group__models.html#gga32e7ca1164025cbb53a9e0ecee9d4ceaaa20596eaa88a1c941070aabf83449aa7">Name</a>, 
<a class="el" href="group__models.html#gga32e7ca1164025cbb53a9e0ecee9d4ceaa2c9a8f4c80ae456155c63f1da906d791">Input format</a>, 
<a class="el" href="group__models.html#gga32e7ca1164025cbb53a9e0ecee9d4ceaadffbeff57f56fe192c51f4222e16f9a7">Parameter format</a>, 
<a class="el" href="group__models.html#gga32e7ca1164025cbb53a9e0ecee9d4ceaad764a94792b43030d24c888a8049560c">Post-estimate data</a>, 
<br />
&#160;&#160;<a class="el" href="group__models.html#gga32e7ca1164025cbb53a9e0ecee9d4ceaa07f9e589c3fe6025b7238fb633c191c1">RNG</a>, 
<a class="el" href="group__models.html#gga32e7ca1164025cbb53a9e0ecee9d4ceaa2a711d9f19ff7a60c1809fcb29e87bf4">Settings</a>
<br />
 }</td></tr>
<tr class="separator:ga32e7ca1164025cbb53a9e0ecee9d4cea"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>This section is a detailed description of the stock models that ship with Apophenia. It is a reference. For an explanation of what to do with an <a class="el" href="structapop__model.html">apop_model</a>, see <a class="el" href="modelsec.html">Models</a>.</p>
<p>The primary questions one has about a model in practice are what format the input data should take and what to expect of an estimated output.</p>
<p>Generally, the input data consists of an <a class="el" href="gentle.html#apop_data">apop_data</a> set where each row is a single observation. Details beyond that are listed below.</p>
<p>The output after running <a class="el" href="group__all__public.html#gaf78221aa4167b7b52bdd0a26aab8e576">apop_estimate</a> to produce a fitted model are generally found in three places: the vector of the output parameter set, its matrix, or a new settings group. The basic intuition is that if the parameters are always a short list of scalars, they are in the vector; if there exists a situation where they could take matrix form, the parameters will be in the matrix; if they require more structure than that, they will be a settings group.</p>
<p>If the basic structure of the <a class="el" href="gentle.html#apop_data">apop_data</a> set is unfamiliar to you, see <a class="el" href="dataoverview.html">Data sets</a>, which will discuss the basic means of getting data out of a struct. For example, the estimated <a class="el" href="group__models.html#ga297c2dc8dbdf4ae93fc7e10860400466">apop_normal</a> distribution has the mean in position zero of the vector and the standard deviation in position one, so they could be extracted as follows:</p>
<div class="fragment"><div class="line"><a class="code" href="structapop__data.html">apop_data</a> *d = <a class="code" href="group__all__public.html#ga159e4fcf45f3042342df362e78a94e31">apop_text_to_data</a>(<span class="stringliteral">&quot;sample data from before&quot;</span>)</div><div class="line"><a class="code" href="structapop__model.html">apop_model</a> *out = <a class="code" href="group__all__public.html#gaf78221aa4167b7b52bdd0a26aab8e576">apop_estimate</a>(d, <a class="code" href="group__models.html#ga297c2dc8dbdf4ae93fc7e10860400466">apop_normal</a>);</div><div class="line"><span class="keywordtype">double</span> mu = <a class="code" href="group__all__public.html#ga06107779e4a3eb229715ceca24352b89">apop_data_get</a>(out&gt;parameters, 0);</div><div class="line"><span class="keywordtype">double</span> sigma = <a class="code" href="group__all__public.html#ga06107779e4a3eb229715ceca24352b89">apop_data_get</a>(out&gt;parameters, 1);</div><div class="line"></div><div class="line"><span class="comment">//What is the p-value of test whose null hypothesis is that Î¼=3.3?</span></div><div class="line">printf (&quot;pval=%g\n&quot;, <a class="code" href="group__all__public.html#ga650d1ecf6f78c3bdb85c8fce71dfae05">apop_test</a>(3.3, &quot;normal&quot;, mu, sigma);</div></div><!-- fragment --><p>See <a class="el" href="modelsec.html">Models</a> for discussion of how to pull settings groups using <a class="el" href="group__all__public.html#ga4ba53402807c9e6b82254fb552029501">Apop_settings_get</a> (for one item) or apop_settings_get_group (for a full settings group). </p>
<h2 class="groupheader">Model Documentation</h2>
<a class="anchor" id="gac5437f95ff92d27f389a7b3e27812330"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">apop_model <a class="el" href="group__models.html#gac5437f95ff92d27f389a7b3e27812330">apop_bernoulli</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The Bernoulli model: A single random draw with probability <img class="formulaInl" alt="$p$" src="form_17.png"/>. </p>
<table class="fieldtable">
<tr><td class="fieldname"><a class="anchor" id="ggac5437f95ff92d27f389a7b3e27812330ad36eb2b479fabf747ff436cfcd058420"></a>Name&#160;</td><td class="fielddoc">
<p><code>Bernoulli distribution</code> </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="ggac5437f95ff92d27f389a7b3e27812330a1d9fc901db36a3b24ac475dbaff49df6"></a>Input format&#160;</td><td class="fielddoc">
<p>The Bernoulli parameter <img class="formulaInl" alt="$p$" src="form_17.png"/> is the percentage of non-zero values in the matrix. Its variance is <img class="formulaInl" alt="$p(1-p)$" src="form_186.png"/>. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="ggac5437f95ff92d27f389a7b3e27812330af45fd62f650f91cb5d92db4886d65ae9"></a>Post-estimate data&#160;</td><td class="fielddoc">
<p>Unchanged. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="ggac5437f95ff92d27f389a7b3e27812330ad845d1c1d281f4ce55168350f90c3b28"></a>Post-estimate parameters&#160;</td><td class="fielddoc">
<p><img class="formulaInl" alt="$p$" src="form_17.png"/> is the only element in the vector (e.g., get its value via <code>double p = apop_data_get(outmodel-&gt;parameters);</code>). A <code>&lt;Covariance&gt;</code> page has the variance of <img class="formulaInl" alt="$p$" src="form_17.png"/> in the (0,0)th element of the matrix. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="ggac5437f95ff92d27f389a7b3e27812330accbedd29e929979f4259e5fccf901a06"></a>Post-estimate info&#160;</td><td class="fielddoc">
<p>Reports <code>log likelihood</code>.  </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="ggac5437f95ff92d27f389a7b3e27812330ad1562cca7500647c341ac3b84bda0104"></a>RNG&#160;</td><td class="fielddoc">
<p>Returns zero or one. </p>
</td></tr>
</table>

</div>
</div>
<a class="anchor" id="gac11decb2971532ada7d2cd4982848b90"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">apop_model <a class="el" href="group__models.html#gac11decb2971532ada7d2cd4982848b90">apop_beta</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The beta distribution has two parameters and is restricted to data between zero and one. You may also find <a class="el" href="group__all__public.html#ga8bf348c6ab413958bc0e4e8f63eb6c59">apop_beta_from_mean_var</a> to be useful. </p>
<table class="fieldtable">
<tr><td class="fieldname"><a class="anchor" id="ggac11decb2971532ada7d2cd4982848b90a52c6218388fef76af9d86aeaf26ac50e"></a>Name&#160;</td><td class="fielddoc">
<p><code>Beta distribution</code> </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="ggac11decb2971532ada7d2cd4982848b90aa9d5a38d5b8e874872a504c8bf3e945e"></a>Input format&#160;</td><td class="fielddoc">
<p>Any arrangement of scalar values. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="ggac11decb2971532ada7d2cd4982848b90a3447d4228981ba88dd1bc33440dcc35e"></a>Parameter format&#160;</td><td class="fielddoc">
<p>A vector, v[0]= <img class="formulaInl" alt="$\alpha$" src="form_6.png"/>; v[1]= <img class="formulaInl" alt="$\beta$" src="form_7.png"/> </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="ggac11decb2971532ada7d2cd4982848b90aa37a82e249fbc07ef7d1520fb7b97dd6"></a>Post-estimate data&#160;</td><td class="fielddoc">
<p>Unchanged. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="ggac11decb2971532ada7d2cd4982848b90a9951937ec4d7ad7c04b13eb361c356fe"></a>Post-estimate info&#160;</td><td class="fielddoc">
<p>Reports <code>log likelihood</code>.  </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="ggac11decb2971532ada7d2cd4982848b90a7759588538279517d81d488abe856054"></a>RNG&#160;</td><td class="fielddoc">
<p>Produces a scalar <img class="formulaInl" alt="$\in[0,1]$" src="form_181.png"/>. </p>
</td></tr>
</table>

</div>
</div>
<a class="anchor" id="ga20017e88fda3695f093279c8191f48e3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">apop_model <a class="el" href="group__models.html#ga20017e88fda3695f093279c8191f48e3">apop_binomial</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The multi-draw generalization of the Bernoulli, or the two-bin special case of the <a class="el" href="group__models.html#gacd7823e794194d3646d586484833882a">Multinomial distribution</a>.</p>
<p>It is implemented as an alias of the <a class="el" href="group__models.html#gacd7823e794194d3646d586484833882a">apop_multinomial</a> model, except that it has an explicit CDF, we know it has two parameters, and its draw method returns a scalar. I.e., <code>.vsize==2</code> and <code>.dsize==1</code>. </p>
<table class="fieldtable">
<tr><td class="fieldname"><a class="anchor" id="gga20017e88fda3695f093279c8191f48e3a7a1755c8ca65cf5551909f25d3b042f6"></a>Input format&#160;</td><td class="fielddoc">
<p>Each row of the matrix is one observation, consisting of two elements. The number of draws of type zero (sometimes read as `misses' or `failures') are in column zero, the number of draws of type one (`hits', `successes') in column one. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga20017e88fda3695f093279c8191f48e3a9c988ee166d5a315df1f0e410525c051"></a>Parameter format&#160;</td><td class="fielddoc">
<p>a vector, v[0]= <img class="formulaInl" alt="$n$" src="form_10.png"/>; v[1]= <img class="formulaInl" alt="$p_1$" src="form_182.png"/>. Thus, <img class="formulaInl" alt="$p_0$" src="form_170.png"/> isn't written down; see <a class="el" href="group__models.html#gacd7823e794194d3646d586484833882a">apop_multinomial</a> for further discussion. If you input <img class="formulaInl" alt="$v[1]&gt;1$" src="form_183.png"/> and <code>apop_opts.verbose &gt;=1</code>, the log likelihood function will throw a warning. Post-estimate, will have a <code>&lt;Covariance&gt;</code> page with the covariance matrix for the <img class="formulaInl" alt="$p$" src="form_17.png"/>s ( <img class="formulaInl" alt="$n$" src="form_10.png"/> effectively has no variance). </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga20017e88fda3695f093279c8191f48e3a12be3956f1279d24dc7125f6efa2ecb2"></a>Post-estimate data&#160;</td><td class="fielddoc">
<p>Unchanged. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga20017e88fda3695f093279c8191f48e3a4dee8c9369343de8212aad958ca6a40e"></a>RNG&#160;</td><td class="fielddoc">
<p>The RNG returns a single number representing the success count, not a vector of length two giving both the failure bin and success bin. This is notable because it differs from the input data format, but it tends to be what people expect from a Binomial RNG. For draws with both dimensions (or situations where draws are fed back into the model), use an <a class="el" href="group__models.html#gacd7823e794194d3646d586484833882a">apop_multinomial</a> model with <code>.vsize =2</code>. </p>
</td></tr>
</table>

</div>
</div>
<a class="anchor" id="ga80caa743557a86dffa2dd1db64421d82"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">apop_model <a class="el" href="group__models.html#ga80caa743557a86dffa2dd1db64421d82">apop_coordinate_transform</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Apply a coordinate transformation of the data to produce a distribution over the transformed data space. This is sometimes called a Jacobian transformation.</p>
<p>Here is an example that replicates the Lognormal distribution. Note the use of <a class="el" href="group__all__public.html#ga8e5f7950ae47b299e20f2c447199cf6f">apop_model_copy_set</a> to set up a model with the given settings.</p>
<div class="fragment"><div class="line"><span class="comment">/* A Lognormal distribution is a transform of the Normal distribution, where </span></div><div class="line"><span class="comment"> the data space of the Normal is exponentiated. Thus, to get back to the original data space, take the log of the current data.</span></div><div class="line"><span class="comment"> */</span></div><div class="line"><span class="preprocessor">#include &lt;apop.h&gt;</span></div><div class="line"><span class="preprocessor">#define Diff(a, b) assert(fabs((a)-(b)) &lt; 1e-2);</span></div><div class="line"></div><div class="line"><span class="comment">//Use this function to produce test data below.</span></div><div class="line"><a class="code" href="structapop__data.html">apop_data</a> *draw_exponentiated_normal(<span class="keywordtype">double</span> mu, <span class="keywordtype">double</span> sigma, <span class="keywordtype">double</span> draws){</div><div class="line">    <a class="code" href="structapop__model.html">apop_model</a> *n01 = apop_model_set_parameters(apop_normal, mu, sigma);</div><div class="line">    <a class="code" href="structapop__data.html">apop_data</a> *d = <a class="code" href="group__all__public.html#gace409be528a5030732bc7e83e0555c26">apop_data_alloc</a>(draws);</div><div class="line">    gsl_rng *r = <a class="code" href="group__all__public.html#gad0efe90cf46022d60e62e05bc5085b0b">apop_rng_alloc</a>(13);</div><div class="line">    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt; draws; i++) <a class="code" href="group__all__public.html#ga87f15cd1923ed7b5b46e52a77ca1dfef">apop_draw</a>(gsl_vector_ptr(d-&gt;vector,i), r, n01);</div><div class="line">    <a class="code" href="group__all__public.html#ga032dcecb67155c527c884dd2c1cc6a6e">apop_vector_exp</a>(d-&gt;vector);</div><div class="line">    <span class="keywordflow">return</span> d;</div><div class="line">}</div><div class="line"></div><div class="line"><span class="comment">// The transformed-to-base function and its derivative for the Jacobian:</span></div><div class="line"><a class="code" href="structapop__data.html">apop_data</a> *rev(<a class="code" href="structapop__data.html">apop_data</a> *in){ <span class="keywordflow">return</span> <a class="code" href="group__all__public.html#gaacff3707e418a067104c77c410b43f69">apop_map</a>(in, .fn_d=log, .part=<span class="charliteral">&#39;a&#39;</span>); }</div><div class="line"></div><div class="line"><span class="comment">/*The derivative of the transformed-to-base function. */</span></div><div class="line"><span class="keywordtype">double</span> inv(<span class="keywordtype">double</span> in){<span class="keywordflow">return</span> 1./in;} </div><div class="line"><span class="keywordtype">double</span> rev_j(<a class="code" href="structapop__data.html">apop_data</a> *in){ <span class="keywordflow">return</span> fabs(<a class="code" href="group__all__public.html#ga30601e357a1e21648f8d8db3c9ed6f3a">apop_map_sum</a>(in, .fn_d=inv, .part=<span class="charliteral">&#39;a&#39;</span>)); }</div><div class="line"></div><div class="line"><span class="keywordtype">int</span> main(){</div><div class="line">    <a class="code" href="structapop__model.html">apop_model</a> *ct = apop_model_coordinate_transform(</div><div class="line">                        .transformed_to_base= rev, .jacobian_to_base=rev_j,</div><div class="line">                        .base_model=apop_normal);</div><div class="line">    <span class="comment">//Apop_model_add_group(ct, apop_parts_wanted);//Speed up the MLE.</span></div><div class="line"></div><div class="line">    <span class="comment">//make fake data</span></div><div class="line">    <span class="keywordtype">double</span> mu=2, sigma=1;</div><div class="line">    <a class="code" href="structapop__data.html">apop_data</a> *d = draw_exponentiated_normal(mu, sigma, 2e5);</div><div class="line"></div><div class="line">    <span class="comment">//If we correctly replicated a Lognormal, mu and sigma will be right:</span></div><div class="line">    <a class="code" href="structapop__model.html">apop_model</a> *est = <a class="code" href="group__all__public.html#gaf78221aa4167b7b52bdd0a26aab8e576">apop_estimate</a>(d, ct);</div><div class="line">    <a class="code" href="group__all__public.html#gab29755a86b82dfe31cdd01d55431cc09">apop_model_free</a>(ct);</div><div class="line">    Diff(<a class="code" href="group__all__public.html#ga06107779e4a3eb229715ceca24352b89">apop_data_get</a>(est-&gt;parameters, 0), mu);</div><div class="line">    Diff(<a class="code" href="group__all__public.html#ga06107779e4a3eb229715ceca24352b89">apop_data_get</a>(est-&gt;parameters, 1), sigma);</div><div class="line"></div><div class="line">    <span class="comment">/*The K-L divergence between our Lognormal and the stock Lognormal</span></div><div class="line"><span class="comment">      should be small. Try it with both the original params and the estimated ones. */</span></div><div class="line">    <a class="code" href="structapop__model.html">apop_model</a> *ln = apop_model_set_parameters(<a class="code" href="group__models.html#ga4a917e02f41e9c6a0ad5e084e3ca42d2">apop_lognormal</a>, mu, sigma);</div><div class="line">    <a class="code" href="structapop__model.html">apop_model</a> *ln2 = <a class="code" href="group__all__public.html#ga2d3ad385ec1664415251db974e7505e6">apop_model_copy</a>(<a class="code" href="group__models.html#ga4a917e02f41e9c6a0ad5e084e3ca42d2">apop_lognormal</a>);</div><div class="line">    ln2-&gt;parameters = est-&gt;parameters;</div><div class="line">    Diff(<a class="code" href="group__all__public.html#gaa56d1f280fa5774300d10616cf24a3c4">apop_kl_divergence</a>(ln, ln2,.draw_ct=1000), 0);</div><div class="line">    Diff(<a class="code" href="group__all__public.html#gaa56d1f280fa5774300d10616cf24a3c4">apop_kl_divergence</a>(ln, est,.draw_ct=1000), 0);</div><div class="line">}</div></div><!-- fragment --> <table class="fieldtable">
<tr><td class="fieldname"><a class="anchor" id="gga80caa743557a86dffa2dd1db64421d82a782aef23781c145cfd6a2fc52f501b89"></a>Name&#160;</td><td class="fielddoc">
<p><code>Fill me</code> </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga80caa743557a86dffa2dd1db64421d82aa18b274afda98ff697a2a01801e84449"></a>Input format&#160;</td><td class="fielddoc">
<p>The input data is sent to the first model, so use the input format for that model. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga80caa743557a86dffa2dd1db64421d82a8265cab239f08cf1fde8ffa59cd8c012"></a>Post-estimate data&#160;</td><td class="fielddoc">
<p>Unchanged. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga80caa743557a86dffa2dd1db64421d82a0a2a8cbcb75d232a0d723e135e10bfab"></a>Settings&#160;</td><td class="fielddoc">
<p><a class="el" href="structapop__coordinate__transform__settings.html">apop_coordinate_transform_settings</a> </p>
</td></tr>
</table>

</div>
</div>
<a class="anchor" id="ga7d33309b547d525c7325c062f4bc774f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">apop_model <a class="el" href="group__models.html#ga7d33309b547d525c7325c062f4bc774f">apop_cross</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>A cross product of models. Generate via <a class="el" href="group__all__public.html#gafbc21644ccf24f498a3b3a7e94758e58">apop_model_cross</a> .</p>
<p>For the case when you need to bundle two uncorrelated models into one larger model. For example, the prior for a multivariate normal (whose parameters are a vector of means and a covariance matrix) is a Multivariate Normal-Wishart pair. </p>
<table class="fieldtable">
<tr><td class="fieldname"><a class="anchor" id="gga7d33309b547d525c7325c062f4bc774fa03f9f90a4557f99e7b984a8995df66d9"></a>Name&#160;</td><td class="fielddoc">
<p><code>Cross product of models</code> </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga7d33309b547d525c7325c062f4bc774fa79fbaad5ca865f26fe5160a62a6a9c69"></a>Input format&#160;</td><td class="fielddoc">
<p>There are two means of handling the input format. If the settings group attached to the data set has a non-<code>NULL</code> <code>splitpage</code> element, then append the second data set as an additional page to the first data set, and name the second set with the name you listed in <code>splitpage</code>; see the example.</p>
<p>If <code>splitpage</code> is <code>NULL</code>, then I will send the same data set to both models. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga7d33309b547d525c7325c062f4bc774fa19c5a60231405a9c0310313d204501d8"></a>Parameter format&#160;</td><td class="fielddoc">
<p>currently <code>NULL</code>; check the sub-models for their parameters. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga7d33309b547d525c7325c062f4bc774fae2d7cea7fb9c69581154e05ef156e569"></a>Post-estimate data&#160;</td><td class="fielddoc">
<p>Unchanged. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga7d33309b547d525c7325c062f4bc774fa756953323527eb2136565e074e280217"></a>Settings&#160;</td><td class="fielddoc">
<p><a class="el" href="structapop__cross__settings.html">apop_cross_settings</a> </p>
</td></tr>
</table>

</div>
</div>
<a class="anchor" id="gaa58cece77dea73979ea15d64ea11b049"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">apop_model <a class="el" href="group__models.html#gaa58cece77dea73979ea15d64ea11b049">apop_dconstrain</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>A model that constrains the base model to within some data constraint. E.g., truncate <img class="formulaInl" alt="$P(d)$" src="form_152.png"/> to zero for all <img class="formulaInl" alt="$d$" src="form_153.png"/> outside of a given constraint. Generate using apop_model_dconstrain .</p>
<p>The log likelihood works by using the <code>base_model</code> log likelihood, and then scaling it based on the part of the base model's density that is within the constraint. If you have an easy means of specifying what that density is, please do, as in the example. If you do not, the log likelihood will calculate it by making <code>draw_ct</code> random draws from the base model and checking whether they are in or out of the constraint. Because this default method is stochastic, there is some loss of precision.</p>
<p>The previous scaling is stored in the <a class="el" href="group__models.html#gaa58cece77dea73979ea15d64ea11b049">apop_dconstrain</a> settings group. Get/set via: </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;double scale = Apop_settings_get(your_model, apop_dconstrain, scale);</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;Apop_settings_set(your_model, apop_dconstrain, scale, 0);</div></div><!-- fragment --><p> If <code>scale</code> is zero, because that is the default or because you set it as above, then I recalculate the scale. If the value of the <code>parameters</code> changed since <code>scale</code> was last calculated, I recalculate. If you made other relevant changes to the scale, then you may need to manually zero out <code>scale</code> so it can be recalculated.</p>
<p>Here is an example that makes a few draws and estimations from data-constrained models. Note the use of apop_model_set_settings to prepare the constrained models. </p>
<table class="fieldtable">
<tr><td class="fieldname"><a class="anchor" id="ggaa58cece77dea73979ea15d64ea11b049a939bad7138e546e374a05d679427e094"></a>Name&#160;</td><td class="fielddoc">
<p><code>Data-constrained model</code> </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="ggaa58cece77dea73979ea15d64ea11b049acb8c02a21f3da6042709dee80482a41f"></a>Input format&#160;</td><td class="fielddoc">
<p>That of the base model. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="ggaa58cece77dea73979ea15d64ea11b049abf6b36f5a7b0871bca53ef89607c583f"></a>Parameter format&#160;</td><td class="fielddoc">
<p>That of the base model. In fact, the <code>parameters</code> element is a pointer to the base model <code>parameters</code>, so both are modified simultaneously. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="ggaa58cece77dea73979ea15d64ea11b049a66008e2309b456e6193ac21ef008fc06"></a>Post-estimate data&#160;</td><td class="fielddoc">
<p>Unchanged. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="ggaa58cece77dea73979ea15d64ea11b049a0cf356d574f4179201e2c441f2c11854"></a>RNG&#160;</td><td class="fielddoc">
<p>Draw from the base model; if the draw is outside the constraint, throw it out and try again. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="ggaa58cece77dea73979ea15d64ea11b049aaf83cd4a0e255b8ca14b91115716382f"></a>Settings&#160;</td><td class="fielddoc">
<p><a class="el" href="structapop__dconstrain__settings.html">apop_dconstrain_settings</a> </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="ggaa58cece77dea73979ea15d64ea11b049a4e60a7169a079e2e86af36cc5e55f91c"></a>Examples&#160;</td><td class="fielddoc">
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;apop.h&gt;</span></div><div class="line"></div><div class="line"><span class="comment">//The constraint function.</span></div><div class="line"><span class="keywordtype">double</span> over_zero(<a class="code" href="structapop__data.html">apop_data</a> *in, <a class="code" href="structapop__model.html">apop_model</a> *m){</div><div class="line">    <span class="keywordflow">return</span> <a class="code" href="group__all__public.html#ga06107779e4a3eb229715ceca24352b89">apop_data_get</a>(in) &gt; 0;</div><div class="line">}</div><div class="line"></div><div class="line"><span class="comment">//The optional scaling function.</span></div><div class="line"><span class="keywordtype">double</span> in_bounds(<a class="code" href="structapop__model.html">apop_model</a> *m){</div><div class="line">    <span class="keywordtype">double</span> z = 0;</div><div class="line">    gsl_vector_view vv = gsl_vector_view_array(&amp;z, 1);</div><div class="line">    <span class="keywordflow">return</span> 1- <a class="code" href="group__all__public.html#gaee16258d3e52671e254f3ce03bca7754">apop_cdf</a>(&amp;((<a class="code" href="structapop__data.html">apop_data</a>){.vector=&amp;vv.vector}), m);</div><div class="line">}</div><div class="line"></div><div class="line"><span class="keywordtype">int</span> main(){</div><div class="line">    <span class="comment">/*Set up a Normal distribution, with data truncated to be nonnegative.</span></div><div class="line"><span class="comment">      This version doesn&#39;t use the in_bounds function above, and so the</span></div><div class="line"><span class="comment">      default scaling function is used.*/</span></div><div class="line">    gsl_rng *r = <a class="code" href="group__all__public.html#gad0efe90cf46022d60e62e05bc5085b0b">apop_rng_alloc</a>(213);</div><div class="line">    <a class="code" href="structapop__model.html">apop_model</a> *norm = apop_model_set_parameters(apop_normal, 1.2, 0.8);</div><div class="line">    <a class="code" href="structapop__model.html">apop_model</a> *trunc = apop_model_set_settings(<a class="code" href="group__models.html#gaa58cece77dea73979ea15d64ea11b049">apop_dconstrain</a>,</div><div class="line">                            .base_model=<a class="code" href="group__all__public.html#ga2d3ad385ec1664415251db974e7505e6">apop_model_copy</a>(norm), </div><div class="line">                            .constraint=over_zero, .draw_ct=5e4, .rng=r);</div><div class="line"></div><div class="line">    <span class="comment">//make draws. Currently, you need to prep the model first.</span></div><div class="line">    <a class="code" href="group__all__public.html#ga373ccc4cb87b162d62d07a2685ccd8ba">apop_prep</a>(NULL, trunc);</div><div class="line">    <a class="code" href="structapop__data.html">apop_data</a> *d = <a class="code" href="group__all__public.html#gaa8d1687ac5d77dfaefe2222b44829cdd">apop_model_draws</a>(trunc, 1e5);</div><div class="line"></div><div class="line">    <span class="comment">//Estimate the parameters given the just-produced data:</span></div><div class="line">    <a class="code" href="structapop__model.html">apop_model</a> *est = <a class="code" href="group__all__public.html#gaf78221aa4167b7b52bdd0a26aab8e576">apop_estimate</a>(d, trunc);</div><div class="line">    <a class="code" href="group__all__public.html#gadc1043a5cda856a5d0a5629dd3f9515e">apop_model_print</a>(est);</div><div class="line">    assert(<a class="code" href="group__all__public.html#ga44a77f5e6867c627fd313f3f6e252ff8">apop_vector_distance</a>(est-&gt;parameters-&gt;vector, norm-&gt;parameters-&gt;vector)&lt;1e-1);</div><div class="line"></div><div class="line">    <span class="comment">//Generate a data set that is truncated at zero using alternate means</span></div><div class="line">    <a class="code" href="structapop__data.html">apop_data</a> *normald = <a class="code" href="group__all__public.html#gaa8d1687ac5d77dfaefe2222b44829cdd">apop_model_draws</a>(apop_model_set_parameters(apop_normal, 0, 1), 5e4);</div><div class="line">    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt; normald-&gt;matrix-&gt;size1; i++){</div><div class="line">        <span class="keywordtype">double</span> *d = <a class="code" href="group__all__public.html#ga4b67894792c6d18f99521a7e734fe6d3">apop_data_ptr</a>(normald, i);</div><div class="line">        <span class="keywordflow">if</span> (*d &lt; 0) *d *= -1;</div><div class="line">    }</div><div class="line"></div><div class="line">    <span class="comment">//this time, use an unparameterized model, and the in_bounds fn</span></div><div class="line">    <a class="code" href="structapop__model.html">apop_model</a> *re_trunc = apop_model_set_settings(<a class="code" href="group__models.html#gaa58cece77dea73979ea15d64ea11b049">apop_dconstrain</a>,</div><div class="line">                            .base_model=apop_normal, </div><div class="line">                            .constraint=over_zero, .scaling=in_bounds);</div><div class="line"></div><div class="line">    <a class="code" href="structapop__model.html">apop_model</a> *re_est = <a class="code" href="group__all__public.html#gaf78221aa4167b7b52bdd0a26aab8e576">apop_estimate</a>(normald, re_trunc);</div><div class="line">    <a class="code" href="group__all__public.html#gadc1043a5cda856a5d0a5629dd3f9515e">apop_model_print</a>(re_est);</div><div class="line">    assert(<a class="code" href="group__all__public.html#ga44a77f5e6867c627fd313f3f6e252ff8">apop_vector_distance</a>(re_est-&gt;parameters-&gt;vector,</div><div class="line">                apop_vector_fill(gsl_vector_alloc(2), 0, 1))&lt;1e-1);</div><div class="line">    <a class="code" href="group__all__public.html#gab29755a86b82dfe31cdd01d55431cc09">apop_model_free</a>(trunc);</div><div class="line">}</div></div><!-- fragment --> </td></tr>
</table>

</div>
</div>
<a class="anchor" id="ga3199e483f340d6cedaa6488565c42c78"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">apop_model <a class="el" href="group__models.html#ga3199e483f340d6cedaa6488565c42c78">apop_dirichlet</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>A multivariate generalization of the <a class="el" href="group__models.html#gac11decb2971532ada7d2cd4982848b90">Beta distribution</a>. </p>
<table class="fieldtable">
<tr><td class="fieldname"><a class="anchor" id="gga3199e483f340d6cedaa6488565c42c78a8340de4a3c0c8d18b863dfa74bd6a840"></a>Name&#160;</td><td class="fielddoc">
<p><code>Dirichlet distribution</code> </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga3199e483f340d6cedaa6488565c42c78a4d4c552d34250864aee09c19751ef626"></a>Input format&#160;</td><td class="fielddoc">
<p>Each row of your data matrix is a single observation. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga3199e483f340d6cedaa6488565c42c78a2f3f79a4405bb7bd324ff24d16da91fd"></a>Parameter format&#160;</td><td class="fielddoc">
<p>The estimated parameters are in the output model's <code>parameters-&gt;vector</code>. The size of the model is determined by the width of your input data set, so later RNG draws, &amp;c will match in size. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga3199e483f340d6cedaa6488565c42c78a4f3353540d5de02f33cceb4c9a7bc6de"></a>Post-estimate data&#160;</td><td class="fielddoc">
<p>Unchanged. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga3199e483f340d6cedaa6488565c42c78a6ddfb70363d00ec1b35720702499b1ea"></a>RNG&#160;</td><td class="fielddoc">
<p>A call to <code>gsl_ran_dirichlet</code>. Output format is identical to the input data format. </p>
</td></tr>
</table>

</div>
</div>
<a class="anchor" id="ga76b45a5681d30906572263eeef35aeff"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">apop_model <a class="el" href="group__models.html#ga76b45a5681d30906572263eeef35aeff">apop_exponential</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The Exponential distribution.</p>
<p><img class="formulaInl" alt="$Z(\mu,k) = \sum_k 1/\mu e^{-k/\mu} $" src="form_164.png"/> <br />
 <img class="formulaInl" alt="$ln Z(\mu,k) = \sum_k -\ln(\mu) - k/\mu $" src="form_165.png"/> <br />
 <img class="formulaInl" alt="$dln Z(\mu,k)/d\mu = \sum_k -1/\mu + k/(\mu^2) $" src="form_166.png"/> <br />
</p>
<p>Some write the function as: <img class="formulaInl" alt="$Z(C,k) = \ln C C^{-k}. $" src="form_167.png"/> If you prefer this form, just convert your parameter via <img class="formulaInl" alt="$\mu = {1\over \ln C}$" src="form_168.png"/> (and convert back from the parameters this function gives you via <img class="formulaInl" alt="$C=\exp(1/\mu)$" src="form_169.png"/>). </p>
<table class="fieldtable">
<tr><td class="fieldname"><a class="anchor" id="gga76b45a5681d30906572263eeef35aeffaffeaf3980827760d876cffb753898c5c"></a>Name&#160;</td><td class="fielddoc">
<p><code>Exponential distribution</code> </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga76b45a5681d30906572263eeef35aeffa2ac2e3fb4fd35efa423bcd7a26f407ef"></a>Input format&#160;</td><td class="fielddoc">
<p>One scalar observation per row (in the <code>matrix</code> or <code>vector</code>). See also <a class="el" href="group__all__public.html#ga3a2b71415df4c9b6511b2f983dd6c645">apop_data_rank_compress</a> for means of dealing with one more input data format. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga76b45a5681d30906572263eeef35aeffa3957dda06cb96eda2b7bbd9430e2f982"></a>Parameter format&#160;</td><td class="fielddoc">
<p><img class="formulaInl" alt="$\mu$" src="form_77.png"/> is in the zeroth element of the vector. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga76b45a5681d30906572263eeef35aeffa230e5293bfc2da7ed89b29447768acb2"></a>Post-estimate data&#160;</td><td class="fielddoc">
<p>Unchanged. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga76b45a5681d30906572263eeef35aeffabbcf485c7c8365e0aefbde89805f64f8"></a>RNG&#160;</td><td class="fielddoc">
<p>Just a wrapper for <code>gsl_ran_exponential</code>. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga76b45a5681d30906572263eeef35aeffa4f17fcb97d296926f36cdd9d03f3c060"></a>CDF&#160;</td><td class="fielddoc">
<p>Returns a scalar draw. </p>
</td></tr>
</table>

</div>
</div>
<a class="anchor" id="gad11b67493ee1e2038696268a38609367"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">apop_model <a class="el" href="group__models.html#gad11b67493ee1e2038696268a38609367">apop_gamma</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p><img class="formulaInl" alt="$G(x, a, b) = {1\over (\Gamma(a) b^a)} x^{a-1} e^{-x/b}$" src="form_154.png"/></p>
<p><img class="formulaInl" alt="$ln G(x, a, b)= -ln \Gamma(a) - a ln b + (a-1)ln(x) + -x/b$" src="form_155.png"/></p>
<p><img class="formulaInl" alt="$d ln G/ da = -\psi(a) - ln b + ln(x) $" src="form_156.png"/> (also, <img class="formulaInl" alt="$d ln \gamma = \psi$" src="form_157.png"/>)</p>
<p><img class="formulaInl" alt="$d ln G/ db = -a/b + x/(b^2) $" src="form_158.png"/> </p>
<table class="fieldtable">
<tr><td class="fieldname"><a class="anchor" id="ggad11b67493ee1e2038696268a38609367ab0b477b362bd36f50629b1ff1ef6fb4d"></a>Name&#160;</td><td class="fielddoc">
<p><code>Gamma distribution</code> </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="ggad11b67493ee1e2038696268a38609367a7ee333771b769abce9d0e94c644ed8e5"></a>Input format&#160;</td><td class="fielddoc">
<p>A scalar, in the <code>vector</code> or <code>matrix</code> elements of the input <a class="el" href="gentle.html#apop_data">apop_data</a> set.</p>
<p>See also <a class="el" href="group__all__public.html#ga3a2b71415df4c9b6511b2f983dd6c645">apop_data_rank_compress</a> for means of dealing with one more input data format. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="ggad11b67493ee1e2038696268a38609367a5c0b61156e3d554ec44479c759d243c7"></a>Parameter format&#160;</td><td class="fielddoc">
<p>First two elements of the vector are $$ and $$. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="ggad11b67493ee1e2038696268a38609367aad596a6d91fcf5ef06ba925a54660ad6"></a>Post-estimate data&#160;</td><td class="fielddoc">
<p>Unchanged. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="ggad11b67493ee1e2038696268a38609367a3a6bc6fd71f9c510e35eeb12ea894c0d"></a>RNG&#160;</td><td class="fielddoc">
<p>A wrapper for <code>gsl_ran_gamma</code>, which returns a scalar.</p>
<p>See the notes for <a class="el" href="group__models.html#ga76b45a5681d30906572263eeef35aeff">apop_exponential</a> on a popular alternate form. </p>
</td></tr>
</table>

</div>
</div>
<a class="anchor" id="ga8b3ad07d082de47bc9cd85661fe9fc4b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">apop_model <a class="el" href="group__models.html#ga8b3ad07d082de47bc9cd85661fe9fc4b">apop_improper_uniform</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The improper uniform returns <img class="formulaInl" alt="$P(x) = 1$" src="form_142.png"/> for every value of x, all the time (and thus, log likelihood(x)=0). It has zero parameters.</p>
<ul>
<li>See also the <a class="el" href="group__models.html#ga95be4cc3931072118a7c8ffece73fbe1">apop_uniform</a> model. </li>
</ul>
<table class="fieldtable">
<tr><td class="fieldname"><a class="anchor" id="gga8b3ad07d082de47bc9cd85661fe9fc4bac8fafb1ef91614dc553692fa17938a6b"></a>Name&#160;</td><td class="fielddoc">
<p><code>Improper uniform distribution</code> </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga8b3ad07d082de47bc9cd85661fe9fc4bafaa690fe4d8b0f234571c8432a307d7f"></a>Input format&#160;</td><td class="fielddoc">
<p>Ignored. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga8b3ad07d082de47bc9cd85661fe9fc4bae0bd6804b1704f48b4b82f748ee0c47a"></a>Parameter format&#160;</td><td class="fielddoc">
<p><code>NULL</code> </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga8b3ad07d082de47bc9cd85661fe9fc4ba6f2f15e89964f8195ee74d5a687444b8"></a>Post-estimate data&#160;</td><td class="fielddoc">
<p>Unchanged. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga8b3ad07d082de47bc9cd85661fe9fc4ba3c4716485f54402f9815cfc0a019e7df"></a>Post-estimate parameters&#160;</td><td class="fielddoc">
<p><code>NULL</code> </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga8b3ad07d082de47bc9cd85661fe9fc4badbbfcc653f9f675cded4b381858fada6"></a>RNG&#160;</td><td class="fielddoc">
<p>The <code>draw</code> function makes no sense, and therefore sets the value in <code>*out</code> to <code>NAN</code>, returns 1, and prints a warning if <code>apop_opts.verbose &gt;=1</code>. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga8b3ad07d082de47bc9cd85661fe9fc4ba0185962a48d96ee484b44816aade5803"></a>CDF&#160;</td><td class="fielddoc">
<p>Half of the distribution is less than every given point, so the CDF always returns 0.5. One could perhaps make an argument that this should really be infinity, but a half is more in the spirit of the distribution's use to represent a lack of information. </p>
</td></tr>
</table>

</div>
</div>
<a class="anchor" id="ga1efcbbe0410c89401354c762363a909f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">apop_model <a class="el" href="group__models.html#ga1efcbbe0410c89401354c762363a909f">apop_iv</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Instrumental variable regression</p>
<p>Operates much like the <a class="el" href="group__models.html#ga85524b1deabd5829227888fd91740cc3">apop_ols</a> model, but the input parameters also need to have a table of substitutions (like the addition of the <code>.instruments</code> setting in the example below).</p>
<p>Which columns substitute where can be specified in your choice of two ways. The first is to use the vector element of the <a class="el" href="gentle.html#apop_data">apop_data</a> set to list the column numbers to be substituted (the dependent variable is zero; first independent column is one), and then one column for each item to substitute.</p>
<p>The second method, if the vector of the instrument <a class="el" href="gentle.html#apop_data">apop_data</a> set is <code>NULL</code>, is to use the column names to find the matching columns in the base data to substitute. This is generally more robust and/or convenient.</p>
<ul>
<li>If the <code>instruments</code> data set is <code>NULL</code> or empty, I'll just run OLS.</li>
</ul>
<ul>
<li>The <a class="el" href="structapop__lm__settings.html">apop_lm_settings</a> group has a <code>destroy_data</code> setting. If you set that to <code>'y'</code>, I will overwrite the column in place, saving the trouble of copying the entire data set. </li>
</ul>
<table class="fieldtable">
<tr><td class="fieldname"><a class="anchor" id="gga1efcbbe0410c89401354c762363a909fa7061bf9131a530c7172730e68935e25f"></a>Name&#160;</td><td class="fielddoc">
<p><code>instrumental variables</code> </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga1efcbbe0410c89401354c762363a909faffcf0cd4d89c436e0f50880d375eed0a"></a>Input format&#160;</td><td class="fielddoc">
<p>See the discussion on the <a class="el" href="group__models.html#ga85524b1deabd5829227888fd91740cc3">apop_ols</a> page regarding its prep routine. See above regarding the <code>.instruments</code> elment of the attached <a class="el" href="structapop__lm__settings.html">apop_lm_settings</a> group. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga1efcbbe0410c89401354c762363a909fa3209c95ab1d76245097418fa55f600ba"></a>Prep routine&#160;</td><td class="fielddoc">
<p>See the discussion on the <a class="el" href="group__models.html#ga85524b1deabd5829227888fd91740cc3">apop_ols</a> page regarding its prep routine. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga1efcbbe0410c89401354c762363a909fa9eaf19a93e79a6d361ee799dee2d0ffc"></a>Parameter format&#160;</td><td class="fielddoc">
<p>As per <a class="el" href="group__models.html#ga85524b1deabd5829227888fd91740cc3">apop_ols</a> </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga1efcbbe0410c89401354c762363a909fa329b93642308a1bdb11fac9e5455fece"></a>Post-estimate data&#160;</td><td class="fielddoc">
<p>Unchanged. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga1efcbbe0410c89401354c762363a909fa3b01a327a34d2a28cccd0c4f54fabd0c"></a>Examples&#160;</td><td class="fielddoc">
<div class="fragment"><div class="line"><span class="comment">/* Instrumental variables are often used to deal with variables measured with noise, so</span></div><div class="line"><span class="comment">this example produces a data set with a column of noisy data, and a separate instrument</span></div><div class="line"><span class="comment">measured with greater precision, then sets up and runs an instrumental variable regression.</span></div><div class="line"><span class="comment"></span></div><div class="line"><span class="comment">To guarantee that the base data set has noise and the instrument is cleaner, the</span></div><div class="line"><span class="comment">procedure first generates the clean data set, then copies the first column to the</span></div><div class="line"><span class="comment">instrument set, then the add_noise function inserts Gaussian noise into the base</span></div><div class="line"><span class="comment">data set. Once the base set and the instrument set have been generated, the setup for</span></div><div class="line"><span class="comment">the IV consists of adding the relevant names and using Apop_model_add_group to add a</span></div><div class="line"><span class="comment">lm (linear model) settings group with an .instrument=instrument_data element.</span></div><div class="line"><span class="comment"></span></div><div class="line"><span class="comment">In fact, the example sets up a sequence of IV regressions, with more noise each</span></div><div class="line"><span class="comment">time.</span></div><div class="line"><span class="comment">*/</span></div><div class="line"></div><div class="line"><span class="preprocessor">#include &lt;apop.h&gt;</span></div><div class="line"><span class="preprocessor">#define Diff(L, R, eps) Apop_stopif(fabs((L)-(R)&gt;=(eps)), return, 0, &quot;%g is too different \</span></div><div class="line"><span class="preprocessor">        from %g (abitrary limit=%g).&quot;, (double)(L), (double)(R), eps);</span></div><div class="line"></div><div class="line"><span class="keywordtype">int</span> datalen =1e4;</div><div class="line"></div><div class="line"><span class="comment">//generate a vector that is the original vector + noise</span></div><div class="line"><span class="keywordtype">void</span> add_noise(gsl_vector *in, gsl_rng *r, <span class="keywordtype">double</span> size){</div><div class="line">    <a class="code" href="structapop__model.html">apop_model</a> *nnoise = apop_model_set_parameters(apop_normal, 0, size);</div><div class="line">    <a class="code" href="structapop__data.html">apop_data</a> *nd = <a class="code" href="group__all__public.html#gaa8d1687ac5d77dfaefe2222b44829cdd">apop_model_draws</a>(nnoise, in-&gt;size);</div><div class="line">    gsl_vector_add(in, <a class="code" href="group__all__public.html#ga825321182fbaa7471069f13447170810">Apop_cv</a>(nd, 0));</div><div class="line">    <span class="comment">/*for (int i=0; i&lt; in-&gt;size; i++){</span></div><div class="line"><span class="comment">        double noise;</span></div><div class="line"><span class="comment">        apop_draw(&amp;noise, r, nnoise);</span></div><div class="line"><span class="comment">        *gsl_vector_ptr(in, i) += noise;</span></div><div class="line"><span class="comment">    }*/</span></div><div class="line">    <a class="code" href="group__all__public.html#ga459acfde11f2c39f5c32cff377f85b9e">apop_data_free</a>(nd);</div><div class="line">    <a class="code" href="group__all__public.html#gab29755a86b82dfe31cdd01d55431cc09">apop_model_free</a>(nnoise);</div><div class="line">}</div><div class="line"></div><div class="line"><span class="keywordtype">void</span> test_for_unbiased_parameter_estimates(<a class="code" href="structapop__model.html">apop_model</a> *m, <span class="keywordtype">double</span> tolerance){</div><div class="line">        Diff(<a class="code" href="group__all__public.html#ga06107779e4a3eb229715ceca24352b89">apop_data_get</a>(m-&gt;parameters, 0, -1), -1.4, tolerance);</div><div class="line">        Diff(<a class="code" href="group__all__public.html#ga06107779e4a3eb229715ceca24352b89">apop_data_get</a>(m-&gt;parameters, 1, -1), 2.3, tolerance);</div><div class="line">}</div><div class="line"></div><div class="line"><span class="keywordtype">int</span> main(){</div><div class="line">    gsl_rng *r = <a class="code" href="group__all__public.html#gad0efe90cf46022d60e62e05bc5085b0b">apop_rng_alloc</a>(234);</div><div class="line"></div><div class="line">    <a class="code" href="structapop__data.html">apop_data</a> *data = <a class="code" href="group__all__public.html#gace409be528a5030732bc7e83e0555c26">apop_data_alloc</a>(datalen, 2);</div><div class="line">    <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0; i&lt; datalen; i++){</div><div class="line">        <a class="code" href="group__all__public.html#ga5bdc618669b9ddc8239595d7b50bec9e">apop_data_set</a>(data, i, 1, 100*(gsl_rng_uniform(r)-0.5));</div><div class="line">        <a class="code" href="group__all__public.html#ga5bdc618669b9ddc8239595d7b50bec9e">apop_data_set</a>(data, i, 0, -1.4 + <a class="code" href="group__all__public.html#ga06107779e4a3eb229715ceca24352b89">apop_data_get</a>(data,i,1)*2.3);</div><div class="line">    }</div><div class="line">    <a class="code" href="group__all__public.html#gae32d4f48cff7788b617d40155703ae64">apop_name_add</a>(data-&gt;names, <span class="stringliteral">&quot;dependent&quot;</span>, <span class="charliteral">&#39;c&#39;</span>);</div><div class="line">    <a class="code" href="group__all__public.html#gae32d4f48cff7788b617d40155703ae64">apop_name_add</a>(data-&gt;names, <span class="stringliteral">&quot;independent&quot;</span>, <span class="charliteral">&#39;c&#39;</span>);</div><div class="line">    <a class="code" href="structapop__model.html">apop_model</a> *oest = <a class="code" href="group__all__public.html#gaf78221aa4167b7b52bdd0a26aab8e576">apop_estimate</a>(data, <a class="code" href="group__models.html#ga85524b1deabd5829227888fd91740cc3">apop_ols</a>);</div><div class="line">    apop_model_show(oest);</div><div class="line"></div><div class="line">    <span class="comment">//the data with no noise will be the instrument.</span></div><div class="line">    gsl_vector *col1 = <a class="code" href="group__all__public.html#ga825321182fbaa7471069f13447170810">Apop_cv</a>(data, 1);</div><div class="line">    <a class="code" href="structapop__data.html">apop_data</a> *instrument_data = <a class="code" href="group__all__public.html#gace409be528a5030732bc7e83e0555c26">apop_data_alloc</a>(data-&gt;matrix-&gt;size1, 1);</div><div class="line">    gsl_vector_memcpy(<a class="code" href="group__all__public.html#ga825321182fbaa7471069f13447170810">Apop_cv</a>(instrument_data, 0), col1);</div><div class="line">    <a class="code" href="group__all__public.html#gae32d4f48cff7788b617d40155703ae64">apop_name_add</a>(instrument_data-&gt;names, <span class="stringliteral">&quot;independent&quot;</span>, <span class="charliteral">&#39;c&#39;</span>);</div><div class="line">    Apop_model_add_group(<a class="code" href="group__models.html#ga1efcbbe0410c89401354c762363a909f">apop_iv</a>, apop_lm, .instruments = instrument_data);</div><div class="line"></div><div class="line">    <span class="comment">//Now add noise to the base data four times, and estimate four IVs.</span></div><div class="line">    <span class="keywordtype">int</span> tries = 4;</div><div class="line">    <a class="code" href="structapop__model.html">apop_model</a> *ests[tries];</div><div class="line">    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> nscale=0; nscale&lt;tries; nscale++){</div><div class="line">        add_noise(col1, r, nscale==0 ? 0 : pow(10, nscale-tries));</div><div class="line">        ests[nscale] = <a class="code" href="group__all__public.html#gaf78221aa4167b7b52bdd0a26aab8e576">apop_estimate</a>(data, <a class="code" href="group__models.html#ga1efcbbe0410c89401354c762363a909f">apop_iv</a>);</div><div class="line">        <span class="keywordflow">if</span> (nscale==tries-1){ <span class="comment">//print the one with the largest error.</span></div><div class="line">            printf(<span class="stringliteral">&quot;\nnow IV:\n&quot;</span>);</div><div class="line">            apop_model_show(ests[nscale]);</div><div class="line">        }</div><div class="line">    }</div><div class="line"></div><div class="line">    <span class="comment">/* Now test. The parameter estimates are unbiased.</span></div><div class="line"><span class="comment">       As we add more noise, the covariances expand.</span></div><div class="line"><span class="comment">       Test that the ratio of one covariance matrix to the next</span></div><div class="line"><span class="comment">       is less than one, though these are typically very much</span></div><div class="line"><span class="comment">       smaller than one (as the noise is an order of magnitude </span></div><div class="line"><span class="comment">       larger in each case), and the ratios will be identical</span></div><div class="line"><span class="comment">       for each j, k below. */</span></div><div class="line">    test_for_unbiased_parameter_estimates(ests[0], 1e-6);</div><div class="line">    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=1; i&lt;tries; i++){</div><div class="line">        test_for_unbiased_parameter_estimates(ests[i], 1e-3);</div><div class="line"></div><div class="line">        gsl_matrix *cov = <a class="code" href="group__all__public.html#ga8b83117b7900b3ae639d36459500becd">apop_data_get_page</a>(ests[i-1]-&gt;parameters, <span class="stringliteral">&quot;&lt;Covariance&gt;&quot;</span>)-&gt;matrix;</div><div class="line">        gsl_matrix *cov2 = <a class="code" href="group__all__public.html#ga8b83117b7900b3ae639d36459500becd">apop_data_get_page</a>(ests[i]-&gt;parameters, <span class="stringliteral">&quot;&lt;Covariance&gt;&quot;</span>)-&gt;matrix;</div><div class="line">        gsl_matrix_div_elements(cov, cov2);</div><div class="line">        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j =0; j&lt; 2; j++)</div><div class="line">            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> k =0; k&lt; 2; k++)</div><div class="line">                assert(gsl_matrix_get(cov, j, k) &lt; 1);</div><div class="line">    }</div><div class="line">}</div></div><!-- fragment --> </td></tr>
</table>

</div>
</div>
<a class="anchor" id="gaded18b6bf8bd63a53f7b72ed5f27fdb5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">apop_model <a class="el" href="group__models.html#gaded18b6bf8bd63a53f7b72ed5f27fdb5">apop_kernel_density</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The kernel density smoothing of a PMF or histogram.</p>
<p>At each point along the histogram, put a distribution (default: Normal(0,1)) on top of the point. Sum all of these distributions to form the output distribution.</p>
<p>Setting up a kernel density consists of setting up a model with the base data and the information about the kernel model around each point. This can be done using the apop_model_set_settings function to get a copy of the base <a class="el" href="group__models.html#gaded18b6bf8bd63a53f7b72ed5f27fdb5">apop_kernel_density</a> model and add a <a class="el" href="structapop__kernel__density__settings.html">apop_kernel_density_settings</a> group with the appropriate information; see the <code>main</code> function of the example below. </p>
<table class="fieldtable">
<tr><td class="fieldname"><a class="anchor" id="ggaded18b6bf8bd63a53f7b72ed5f27fdb5a4e14854658e112e2eaeda9d357e4b0cf"></a>Name&#160;</td><td class="fielddoc">
<p><code>kernel density estimate</code> </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="ggaded18b6bf8bd63a53f7b72ed5f27fdb5a623809abf09b48226a4082e67a150365"></a>Input format&#160;</td><td class="fielddoc">
<p>One observation per line. Each row in turn will be passed through to the elements of <code>kernelbase</code> and optional <code>set_params</code> function, so follow the format of the base model. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="ggaded18b6bf8bd63a53f7b72ed5f27fdb5afac163b35f7d221ff2758b1656d266cc"></a>Parameter format&#160;</td><td class="fielddoc">
<p>None </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="ggaded18b6bf8bd63a53f7b72ed5f27fdb5a8fe83051ca646e57cc829ca30c4fdc57"></a>Post-estimate data&#160;</td><td class="fielddoc">
<p>Unchanged. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="ggaded18b6bf8bd63a53f7b72ed5f27fdb5a55b3f592cfb119a98e9271136d8f0472"></a>RNG&#160;</td><td class="fielddoc">
<p>Randomly selects a data point, then randomly draws from that sub-distribution. Returns 0 on success, 1 if unable to pick a sub-distribution (meaning the weights over the distributions are somehow broken), and 2 if unable to draw from the sub-distribution. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="ggaded18b6bf8bd63a53f7b72ed5f27fdb5a0107a538ec9642e42af2421c5f341a5e"></a>CDF&#160;</td><td class="fielddoc">
<p>Sums the CDF to the given point of all the sub-distributions. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="ggaded18b6bf8bd63a53f7b72ed5f27fdb5a90b05b303046e7d2c764469df65c0693"></a>Settings&#160;</td><td class="fielddoc">
<p><a class="el" href="structapop__kernel__density__settings.html">apop_kernel_density_settings</a>, including:</p>
<ul>
<li><code>data</code> a data set, which, if not <code>NULL</code> and <code>base_pmf</code> is <code>NULL</code>, will be converted to an <a class="el" href="group__models.html#gaca8f3323c57e0223a9f3c0f991c9760e">apop_pmf</a> model. </li>
<li><code>base_pmf</code> This is the preferred format for input data. It is the histogram to be smoothed. </li>
<li><code>kernelbase</code> The kernel to use for smoothing, with all parameters set and a <code>p</code> method. Popular favorites are <a class="el" href="group__models.html#ga297c2dc8dbdf4ae93fc7e10860400466">apop_normal</a> and <a class="el" href="group__models.html#ga95be4cc3931072118a7c8ffece73fbe1">apop_uniform</a>. </li>
<li><code>set_params</code> A function that takes in a single number and the model, and sets the parameters accordingly. The function will call this for every point in the data set. Here is the default, which is used if this is <code>NULL</code>. It simply sets the first element of the model's parameter vector to the input number; this is appropriate for a Normal distribution, where we want to center the distribution on each data point in turn.</li>
</ul>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;static void apop_set_first_param(apop_data *in, apop_model *m){</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;    apop_data_set(m-&gt;parameters, .val= apop_data_get(in));</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;}</div></div><!-- fragment --><p>See the sample code for for a Uniform[0,1] recentered around the first element of the PMF matrix. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="ggaded18b6bf8bd63a53f7b72ed5f27fdb5adfe6bde7217c7ef7608fb1de6790ca8e"></a>Examples&#160;</td><td class="fielddoc">
<p>This example sets up and uses KDEs based on Normal and Uniform distributions.</p>
<div class="fragment"><div class="line"><span class="comment">/* This program draws ten random data points, and then produces two kernel density</span></div><div class="line"><span class="comment">estimates: one based on the Normal distribution and one based on the Uniform.</span></div><div class="line"><span class="comment"></span></div><div class="line"><span class="comment">It produces three outputs:</span></div><div class="line"><span class="comment">--stderr shows the random draws</span></div><div class="line"><span class="comment">--kerneldata is a file written with plot data for both KDEs</span></div><div class="line"><span class="comment">--stdout shows instructions to gnuplot, so you can pipe:</span></div><div class="line"><span class="comment">./kernel | gnuplot -persist</span></div><div class="line"><span class="comment"></span></div><div class="line"><span class="comment">Most of the code is taken up by the plot() and draw_some_data() functions, which are</span></div><div class="line"><span class="comment">straightforward. Notice how plot() pulls the values of the probability distributions </span></div><div class="line"><span class="comment">at each point along the scale.</span></div><div class="line"><span class="comment"></span></div><div class="line"><span class="comment">The set_uniform_edges function sets the max and min of a Uniform distribution so that the</span></div><div class="line"><span class="comment">given point is at the center of the distribution.</span></div><div class="line"><span class="comment"></span></div><div class="line"><span class="comment">The first KDE uses the defaults, which are based on a Normal distribution with std dev 1;</span></div><div class="line"><span class="comment">the second explicitly sets the .kernel and .set_fn for a Uniform.</span></div><div class="line"><span class="comment">*/</span></div><div class="line"></div><div class="line"><span class="preprocessor">#include &lt;apop.h&gt;</span></div><div class="line"></div><div class="line"><span class="keywordtype">void</span> set_uniform_edges(<a class="code" href="structapop__data.html">apop_data</a> * r, <a class="code" href="structapop__model.html">apop_model</a> *unif){</div><div class="line">    <a class="code" href="group__all__public.html#ga5bdc618669b9ddc8239595d7b50bec9e">apop_data_set</a>(unif-&gt;parameters, 0, -1, r-&gt;matrix-&gt;data[0]-0.5);</div><div class="line">    <a class="code" href="group__all__public.html#ga5bdc618669b9ddc8239595d7b50bec9e">apop_data_set</a>(unif-&gt;parameters, 1, -1, r-&gt;matrix-&gt;data[0]+0.5);</div><div class="line">}</div><div class="line"></div><div class="line"><span class="keywordtype">void</span> plot(<a class="code" href="structapop__model.html">apop_model</a> *k, <a class="code" href="structapop__model.html">apop_model</a> *k2){</div><div class="line">    <a class="code" href="structapop__data.html">apop_data</a> *onept = <a class="code" href="group__all__public.html#gace409be528a5030732bc7e83e0555c26">apop_data_alloc</a>(1,1);</div><div class="line">    FILE *outtab = fopen(<span class="stringliteral">&quot;kerneldata&quot;</span>, <span class="stringliteral">&quot;w&quot;</span>);</div><div class="line">    <span class="keywordflow">for</span> (<span class="keywordtype">double</span> i=0; i&lt;20; i+=0.01){</div><div class="line">        <a class="code" href="group__all__public.html#ga5bdc618669b9ddc8239595d7b50bec9e">apop_data_set</a>(onept, .val=i);</div><div class="line">        fprintf(outtab, <span class="stringliteral">&quot;%g %g %g\n&quot;</span>, i, <a class="code" href="group__all__public.html#ga2510c7df8ccd834732ee208005738b0f">apop_p</a>(onept, k), <a class="code" href="group__all__public.html#ga2510c7df8ccd834732ee208005738b0f">apop_p</a>(onept, k2));</div><div class="line">    }</div><div class="line">    fclose(outtab);</div><div class="line">    printf(<span class="stringliteral">&quot;plot &#39;kerneldata&#39; using 1:2\n&quot;</span></div><div class="line">           <span class="stringliteral">&quot;replot &#39;kerneldata&#39; using 1:3\n&quot;</span>);</div><div class="line">}</div><div class="line"></div><div class="line"><a class="code" href="structapop__data.html">apop_data</a> *draw_some_data(){</div><div class="line">    <a class="code" href="structapop__model.html">apop_model</a> *uniform_0_20 = apop_model_set_parameters(<a class="code" href="group__models.html#ga95be4cc3931072118a7c8ffece73fbe1">apop_uniform</a>, 0, 20);</div><div class="line">    <a class="code" href="structapop__data.html">apop_data</a> *d = <a class="code" href="group__all__public.html#gaa8d1687ac5d77dfaefe2222b44829cdd">apop_model_draws</a>(uniform_0_20, 10);</div><div class="line">    <a class="code" href="group__all__public.html#gab45a848e5dbcaf82b5b95cd03f7b396a">apop_data_print</a>(<a class="code" href="group__all__public.html#ga721ed20cd27f7d8ae4f752f48ff69ef4">apop_data_sort</a>(d), .output_pipe=stderr);</div><div class="line">    <span class="keywordflow">return</span> d;</div><div class="line">}</div><div class="line"></div><div class="line"><span class="keywordtype">int</span> main(){</div><div class="line">    <a class="code" href="structapop__data.html">apop_data</a> *d = draw_some_data();    </div><div class="line">    <a class="code" href="structapop__model.html">apop_model</a> *k = <a class="code" href="group__all__public.html#gaf78221aa4167b7b52bdd0a26aab8e576">apop_estimate</a>(d, <a class="code" href="group__models.html#gaded18b6bf8bd63a53f7b72ed5f27fdb5">apop_kernel_density</a>);</div><div class="line">    <a class="code" href="structapop__model.html">apop_model</a> *k2 = apop_model_set_settings(<a class="code" href="group__models.html#gaded18b6bf8bd63a53f7b72ed5f27fdb5">apop_kernel_density</a>,</div><div class="line">                                         .base_data=d,</div><div class="line">                                         .set_fn = set_uniform_edges,</div><div class="line">                                         .kernel = <a class="code" href="group__models.html#ga95be4cc3931072118a7c8ffece73fbe1">apop_uniform</a>);</div><div class="line">    plot(k, k2);</div><div class="line">}</div></div><!-- fragment --> </td></tr>
</table>

</div>
</div>
<a class="anchor" id="gaf7d01cc4076c9319036a0cce882dac62"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">apop_model <a class="el" href="group__models.html#gaf7d01cc4076c9319036a0cce882dac62">apop_loess</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Regression via loess smoothing</p>
<p>This uses a somewhat black-box routine, first written by Chamberlain, Devlin, Grosse, and Shyu in 1988, to fit a smoothed series of quadratic curves to the input data, thus producing a curve more closely fitting than a simple regression would.</p>
<p>The curve is basically impossible to describe using a short list of parameters, so the representation is in the form of the <code>predicted</code> vector of the <code>expected</code> data set; see below.</p>
<p>From the 1992 manual for the package: ``The method we will use to fit local regression models is called <em>loess</em>, which is short for local regression, and was chosen as the name since a loess is a deposit of fine clay or silt along a river valley, and thus is a surface of sorts. The word comes from the German lÃ¶ss, and is pronounced lÃ¶Ã­ss.'' </p>
<table class="fieldtable">
<tr><td class="fieldname"><a class="anchor" id="ggaf7d01cc4076c9319036a0cce882dac62a9b0ac23dff498a53a6000fdec0db5416"></a>Name&#160;</td><td class="fielddoc">
<p><code>Loess smoothing</code> </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="ggaf7d01cc4076c9319036a0cce882dac62a94c8339423d3b2beb26ff316f9da2fa2"></a>Input format&#160;</td><td class="fielddoc">
<p>The data is basically OLS-like: the first column of the data is the dependent variable to be explained; subsequent variables are the independent explanatory variables. Thus, your input data can either have a dependent vector plus explanatory matrix, or a matrix where the first column is the dependent variable.</p>
<p>Unlike with OLS, I won't move your original data, and I won't add a <b>1</b>, because that's not really the loess custom. You can of course set up your data that way if you like.</p>
<p>If your data set has a weights vector, I'll use it.</p>
<p>In any case, all data is copied into the model's <a class="el" href="structapop__loess__settings.html">apop_loess_settings</a>. The code is primarily FORTRAN code from 1988 converted to C; the data thus has to be converted into a relatively obsolete internal format. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="ggaf7d01cc4076c9319036a0cce882dac62a66b0b4b64c2b1e8d705fa9e6aaaeb272"></a>Parameter format&#160;</td><td class="fielddoc">
<p>Unused. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="ggaf7d01cc4076c9319036a0cce882dac62a4256343d75bdea32987048e03b090fe4"></a>Post-estimate data&#160;</td><td class="fielddoc">
<p>Unchanged. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="ggaf7d01cc4076c9319036a0cce882dac62a96c9305f64fc6db44b01413037319d13"></a>Post-estimate parameters&#160;</td><td class="fielddoc">
<p>None. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="ggaf7d01cc4076c9319036a0cce882dac62a75605197727f9762a8347102cee2c378"></a>Predict&#160;</td><td class="fielddoc">
<p>Fills in the zeroth column (ignoring and overwriting any data there), and adds an additional page to the input <a class="el" href="gentle.html#apop_data">apop_data</a> set named "&lt;Confidence&gt;" with a lower and upper CI for each point. </p>
</td></tr>
</table>

</div>
</div>
<a class="anchor" id="gaa88a402cf7d02c25c4613a74ace1b0c1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">apop_model <a class="el" href="group__models.html#gaa88a402cf7d02c25c4613a74ace1b0c1">apop_logit</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Apophenia makes no distinction between the bivariate logit and the multinomial logit. This does both.</p>
<p>The likelihood of choosing item <img class="formulaInl" alt="$j$" src="form_146.png"/> is: <img class="formulaInl" alt="$e^{x\beta_j}/ (\sum_i{e^{x\beta_i}})$" src="form_147.png"/></p>
<p>so the log likelihood is <img class="formulaInl" alt="$x\beta_j - ln(\sum_i{e^{x\beta_i}})$" src="form_148.png"/> </p>
<table class="fieldtable">
<tr><td class="fieldname"><a class="anchor" id="ggaa88a402cf7d02c25c4613a74ace1b0c1a768face88a8da38940f85fd8f2b358b7"></a>Name&#160;</td><td class="fielddoc">
<p><code>Logit</code> </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="ggaa88a402cf7d02c25c4613a74ace1b0c1a7726ba92ff736932c6c1d46b94ac4d24"></a>Input format&#160;</td><td class="fielddoc">
<p>The first column of the data matrix this model expects is zeros, ones, ..., enumerating the factors; to get there, try <a class="el" href="group__all__public.html#gac6988d5e7fb14aaae96ee73a5ea90e0c">apop_data_to_factors</a>; if you forget to run it, I'll run it on the first data column for you. The remaining columns are values of the independent variables. Thus, the model will return [(data columns)-1] <img class="formulaInl" alt="$\times$" src="form_180.png"/>[(option count)-1] parameters. Column names list factors in the dependent variables; row names list the independent variables. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="ggaa88a402cf7d02c25c4613a74ace1b0c1a601dbec8df12679c3916650c3697694f"></a>Prep routine&#160;</td><td class="fielddoc">
<p>You will probably want to convert some column of your data into factors, via <a class="el" href="group__all__public.html#gac6988d5e7fb14aaae96ee73a5ea90e0c">apop_data_to_factors</a>. If you do, then that adds a page of factors to your data set (and of course adjusts the data itself). If I find a factor page, I will use that info; if not, then I will run <a class="el" href="group__all__public.html#gac6988d5e7fb14aaae96ee73a5ea90e0c">apop_data_to_factors</a> on the first column (the vector if there is one, else the first column of the matrix.)</p>
<p>Also, if there is no vector, then I will move the first column of the matrix, and replace that matrix column with a constant column of ones, just like with OLS. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="ggaa88a402cf7d02c25c4613a74ace1b0c1aa6bd610f2d8f49e31e356ba35f7e36ad"></a>Parameter format&#160;</td><td class="fielddoc">
<p>As above. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="ggaa88a402cf7d02c25c4613a74ace1b0c1ad5ceeb40a5e40feb7f3cdddf8a1185d4"></a>Post-estimate data&#160;</td><td class="fielddoc">
<p>Unchanged. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="ggaa88a402cf7d02c25c4613a74ace1b0c1a6c65270f204ee95d6da7276c1f6d8380"></a>RNG&#160;</td><td class="fielddoc">
<p>Much like the <a class="el" href="group__models.html#ga85524b1deabd5829227888fd91740cc3">apop_ols</a> RNG, qv. Returns the category drawn.</p>
<p>Here is an artifical example which clarifies the simplest use of the model:</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;apop.h&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;unistd.h&gt;</span></div><div class="line"></div><div class="line"><span class="keywordtype">char</span> *testfile = <span class="stringliteral">&quot;logit_test_data&quot;</span>;</div><div class="line"></div><div class="line"><span class="comment">//generate a fake data set.</span></div><div class="line"><span class="comment">//Notice how the first column is the outcome, just as with standard regression.</span></div><div class="line"><span class="keywordtype">void</span> write_data(){</div><div class="line">    FILE *f = fopen(testfile, <span class="stringliteral">&quot;w&quot;</span>);</div><div class="line">    fprintf(f, <span class="stringliteral">&quot;\</span></div><div class="line"><span class="stringliteral">        outcome,A, B \n\</span></div><div class="line"><span class="stringliteral">        0, 0, 0     \n\</span></div><div class="line"><span class="stringliteral">        1, 1, 1     \n\</span></div><div class="line"><span class="stringliteral">        1, .7, .5   \n\</span></div><div class="line"><span class="stringliteral">        1, .7, .3   \n\</span></div><div class="line"><span class="stringliteral">        1, .3, .7   \n\</span></div><div class="line"><span class="stringliteral">        \n\</span></div><div class="line"><span class="stringliteral">        1, .5, .5   \n\</span></div><div class="line"><span class="stringliteral">        0, .4, .4   \n\</span></div><div class="line"><span class="stringliteral">        0, .3, .4   \n\</span></div><div class="line"><span class="stringliteral">        1, .1, .3   \n\</span></div><div class="line"><span class="stringliteral">        1, .3, .1   &quot;</span>);</div><div class="line">    fclose(f);</div><div class="line">}</div><div class="line"></div><div class="line"><span class="keywordtype">int</span> main(){</div><div class="line">    write_data();</div><div class="line">    <a class="code" href="structapop__data.html">apop_data</a> *d = <a class="code" href="group__all__public.html#ga159e4fcf45f3042342df362e78a94e31">apop_text_to_data</a>(testfile);</div><div class="line">    Apop_model_add_group(<a class="code" href="group__models.html#gaa88a402cf7d02c25c4613a74ace1b0c1">apop_logit</a>, apop_mle, .tolerance=1e-5);</div><div class="line">    <a class="code" href="structapop__model.html">apop_model</a> *est = <a class="code" href="group__all__public.html#gaf78221aa4167b7b52bdd0a26aab8e576">apop_estimate</a>(d, <a class="code" href="group__models.html#gaa88a402cf7d02c25c4613a74ace1b0c1">apop_logit</a>);</div><div class="line">    unlink(testfile);</div><div class="line"></div><div class="line">    <span class="comment">/* Apophenia&#39;s test suite checks that this code produces </span></div><div class="line"><span class="comment">       values close to canned values. As a human, you probably </span></div><div class="line"><span class="comment">       just want to print the results to the screen. */</span></div><div class="line">    apop_model_show(est);</div><div class="line"></div><div class="line">    assert(fabs(<a class="code" href="group__all__public.html#ga06107779e4a3eb229715ceca24352b89">apop_data_get</a>(est-&gt;parameters, .rowname=<span class="stringliteral">&quot;1&quot;</span>)- -1.155026) &lt; 1e-6);</div><div class="line">    assert(fabs(<a class="code" href="group__all__public.html#ga06107779e4a3eb229715ceca24352b89">apop_data_get</a>(est-&gt;parameters, .rowname=<span class="stringliteral">&quot;A&quot;</span>)- 4.039903) &lt; 1e-6);</div><div class="line">    assert(fabs(<a class="code" href="group__all__public.html#ga06107779e4a3eb229715ceca24352b89">apop_data_get</a>(est-&gt;parameters, .rowname=<span class="stringliteral">&quot;B&quot;</span>)- 1.494694) &lt; 1e-6);</div><div class="line">}</div></div><!-- fragment --><p>Here is an example using data from a U.S. Congressional vote, including one text variable that has to be converted to factors, and one to convert to dummies. A loop then calculates the customary p-values.</p>
<div class="fragment"><div class="line"><span class="comment">// See http://modelingwithdata.org/arch/00000160.htm for context and analysis.</span></div><div class="line"></div><div class="line"><span class="preprocessor">#ifdef Datadir</span></div><div class="line"><span class="preprocessor">#define DATADIR Datadir</span></div><div class="line"><span class="preprocessor">#else</span></div><div class="line"><span class="preprocessor">#define DATADIR &quot;.&quot;</span></div><div class="line"><span class="preprocessor">#endif</span></div><div class="line"></div><div class="line"><span class="preprocessor">#include &lt;apop.h&gt;</span></div><div class="line"></div><div class="line"><span class="keywordtype">int</span> main(){</div><div class="line">    <span class="comment">//read the data to db, get the desired columns,</span></div><div class="line">    <span class="comment">//prep the two categorical variables</span></div><div class="line">    <a class="code" href="group__all__public.html#gabd00e16791a970631c3ed4ac3487da46">apop_text_to_db</a>( DATADIR <span class="stringliteral">&quot;/&quot;</span> <span class="stringliteral">&quot;amash_vote_analysis.csv&quot;</span> , .tabname=<span class="stringliteral">&quot;amash&quot;</span>);</div><div class="line">    <a class="code" href="structapop__data.html">apop_data</a> *d = apop_query_to_mixed_data(<span class="stringliteral">&quot;mmmtt&quot;</span>, <span class="stringliteral">&quot;select 0, ideology,log(contribs+10) as contribs, vote, party from amash&quot;</span>);</div><div class="line">    <a class="code" href="group__all__public.html#gac6988d5e7fb14aaae96ee73a5ea90e0c">apop_data_to_factors</a>(d); <span class="comment">//0th text col -&gt; 0th matrix col</span></div><div class="line">    <a class="code" href="group__all__public.html#ga0712d31cbfe6d7e0020545d71bd3139c">apop_data_to_dummies</a>(d, .col=1, .type=<span class="charliteral">&#39;t&#39;</span>, .append=<span class="charliteral">&#39;y&#39;</span>);</div><div class="line"></div><div class="line">    <span class="comment">//Estimate a logit model, get covariances,</span></div><div class="line">    <span class="comment">//calculate p values under popular Normality assumptions</span></div><div class="line">    Apop_model_add_group(<a class="code" href="group__models.html#gaa88a402cf7d02c25c4613a74ace1b0c1">apop_logit</a>, apop_parts_wanted, .covariance=<span class="charliteral">&#39;y&#39;</span>);</div><div class="line">    <a class="code" href="structapop__model.html">apop_model</a> *out = <a class="code" href="group__all__public.html#gaf78221aa4167b7b52bdd0a26aab8e576">apop_estimate</a>(d, <a class="code" href="group__models.html#gaa88a402cf7d02c25c4613a74ace1b0c1">apop_logit</a>);</div><div class="line">    apop_model_show(out);</div><div class="line">    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt; out-&gt;parameters-&gt;matrix-&gt;size1; i++){</div><div class="line">        printf(<span class="stringliteral">&quot;%s pval:\t%g\n&quot;</span>,out-&gt;parameters-&gt;names-&gt;row[i], </div><div class="line">        apop_test(<a class="code" href="group__all__public.html#ga06107779e4a3eb229715ceca24352b89">apop_data_get</a>(out-&gt;parameters, i), <span class="stringliteral">&quot;normal&quot;</span>, 0, sqrt(<a class="code" href="group__all__public.html#ga06107779e4a3eb229715ceca24352b89">apop_data_get</a>(out-&gt;parameters-&gt;more, i, i))));</div><div class="line">    }</div><div class="line">}</div></div><!-- fragment --> </td></tr>
</table>

</div>
</div>
<a class="anchor" id="ga4a917e02f41e9c6a0ad5e084e3ca42d2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">apop_model <a class="el" href="group__models.html#ga4a917e02f41e9c6a0ad5e084e3ca42d2">apop_lognormal</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The log likelihood function for lognormal distributions:</p>
<p><img class="formulaInl" alt="$f = exp(-(ln(x)-\mu)^2/(2\sigma^2))/ (x\sigma\sqrt{2\pi})$" src="form_149.png"/></p>
<p><img class="formulaInl" alt="$ln f = -(ln(x)-\mu)^2/(2\sigma^2) - ln(x) - ln(\sigma\sqrt{2\pi})$" src="form_150.png"/> </p>
<table class="fieldtable">
<tr><td class="fieldname"><a class="anchor" id="gga4a917e02f41e9c6a0ad5e084e3ca42d2adb6a81fcf2b54bab8165696ece5227ce"></a>Name&#160;</td><td class="fielddoc">
<p><code>Lognormal distribution</code> </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga4a917e02f41e9c6a0ad5e084e3ca42d2ac547ac38eecf3539f87ac78a07e3fa4a"></a>Input format&#160;</td><td class="fielddoc">
<p>A scalar in the the matrix or vector element of the input <a class="el" href="gentle.html#apop_data">apop_data</a> set. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga4a917e02f41e9c6a0ad5e084e3ca42d2a275208d856442dc1f451495b6cd34a94"></a>Parameter format&#160;</td><td class="fielddoc">
<p>Zeroth vector element is the mean of the logged data set; first is the standard deviation of the logged data set. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga4a917e02f41e9c6a0ad5e084e3ca42d2a8c2181b35ce4eb3d5cf1c33a510b0ba9"></a>Post-estimate data&#160;</td><td class="fielddoc">
<p>Unchanged. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga4a917e02f41e9c6a0ad5e084e3ca42d2ac29238047c4e65656c8b1c421e6629a6"></a>Post-estimate info&#160;</td><td class="fielddoc">
<p>Reports <code>log likelihood</code>.  </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga4a917e02f41e9c6a0ad5e084e3ca42d2aad44e68967d3122e159497a8f08d3afb"></a>RNG&#160;</td><td class="fielddoc">
<p>An Apophenia wrapper for the GSL's Normal RNG, exponentiated. </p>
</td></tr>
</table>

</div>
</div>
<a class="anchor" id="gaf085564a8adc67ba156c4cd1db8145e3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">apop_model <a class="el" href="group__models.html#gaf085564a8adc67ba156c4cd1db8145e3">apop_mixture</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The mixture model transformation: a linear combination of multiple models.</p>
<p>Use <a class="el" href="group__all__public.html#ga40bb98b02fde8f8e4ab59a4d127b692f">apop_model_mixture</a> to produce one of these models. In the examples below, some are generated from unparameterized input models with a form like</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;apop_model *mf = apop_model_mixture(apop_model_copy(apop_normal), apop_model_copy(apop_normal));</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;Apop_settings_set(mf, apop_mixture, find_weights, &#39;y&#39;);</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;Apop_model_add_group(mf, apop_mle, .starting_pt=(double[]){.5, .5, 50, 5, 80, 5},</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;                                   .step_size=3, .tolerance=1e-6);</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;apop_model_show(apop_estimate(dd, mf));</div></div><!-- fragment --><p>Or, one can skip the estimation and use already-parameterized models as input to <a class="el" href="group__all__public.html#ga40bb98b02fde8f8e4ab59a4d127b692f">apop_model_mixture</a>, e.g.:</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;apop_model *r_ed = apop_model_mixture(apop_model_set_parameters(apop_normal, 54.6, 5.87),</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;                       apop_model_set_parameters(apop_normal, 80.1, 5.87));</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;apop_data *wts = apop_data_falloc((2), 0.36, 0.64);</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;Apop_settings_add(r_ed, apop_mixture, weights, wts-&gt;vector);</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;printf(&quot;LL=%g\n&quot;, apop_log_likelihood(dd, r_ed));</div></div><!-- fragment --><p>Notice that the weights vector has to be added after the call to <a class="el" href="group__all__public.html#ga40bb98b02fde8f8e4ab59a4d127b692f">apop_model_mixture</a>. If none is given, then equal weights are assigned to all components of the mixture.</p>
<p>One can think of the estimation in the un-parameterized case as a missing-data problem: each data point originated in one distribution or the other, and if we knew with certainty which data point came from which distribution, then the estimation problem would be trivial: just generate the subsets and call <code>apop_estimate(dataset1, model1)</code>, ..., <code>apop_estimate(datasetn, modeln)</code> separately. But the assignment of which element goes where is unknown information, which we guess at using an expectation-maximization (EM) algorithm. The standard algorithm starts with an initial set of parameters for the models, and assigns each data point to its most likely model. It then re-estimates the model parameters using their subsets. The standard algorithm, see e.g. <a href="http://www.jstatsoft.org/v32/i06/paper">this PDF</a>, repeats until it arrives at an optimum.</p>
<p>Thus, the log likelihood method for this model includes a step that allocates each data point to its most likely model, and calculates the log likelihood of each observation using its most likely model. [It would be a valuable extension to extend this to not-conditionally IID models. Commit <code>1ac0dd44</code> in the repository had some notes on this, now removed.] As a side-effect, it calculates the odds of drawing from each model (the vector Î»). Following the above-linked paper, the probability for a given observation under the mixture model is its probability under the most likely model weighted by the previously calculated <img class="formulaInl" alt="$\lambda$" src="form_101.png"/> for the given model.</p>
<p>Apophenia implements the EM algorithm as a constrained optimization(!). The constraint check repositions the vector of weights to that calculated at the last step, then the log likelihood calculates the likelihood as above, including the expected value of the weights vector for the next step. Thus, Apophenia casts the Expectation step as a step repositioning the maximization's constraint and its associated penalties.</p>
<p><em>Estimations of mixture distributions can be sensitive to initial conditions.</em> You are encouraged to try a sequence of random starting points for your model parameters. Some authors recommend plotting the data and eyeballing a guess as to the model parameters.</p>
<ul>
<li>The default is to take the weight assigned to each distribution as fixed. If you want to use the EM algorithm to move the weights as described above, specify this via <div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;Apop_settings_set(your_model, apop_mixture, find_weights, &#39;y&#39;);</div></div><!-- fragment --></li>
</ul>
<ul>
<li>A kernel density is a mixture of a large number of homogeneous models, where each is typically centered around a point in your data. For such situations, <a class="el" href="group__models.html#gaded18b6bf8bd63a53f7b72ed5f27fdb5">apop_kernel_density</a> will be easier to use. </li>
</ul>
<table class="fieldtable">
<tr><td class="fieldname"><a class="anchor" id="ggaf085564a8adc67ba156c4cd1db8145e3a1af3011977da3fea6e97e3e5fbe2f004"></a>Name&#160;</td><td class="fielddoc">
<p><code>Mixture of models</code> </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="ggaf085564a8adc67ba156c4cd1db8145e3aaeaea98d49d679291ffaa2b3a4ddb326"></a>Input format&#160;</td><td class="fielddoc">
<p>The same data gets sent to each of the component models of the mixture. Each row is an observation, and the estimation routine assumes that models are conditionally IID (i.e., having chosen what component of the mixture the observation comes from, its likelihood can be calculated independently of all other observations). </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="ggaf085564a8adc67ba156c4cd1db8145e3a77178797f67033e1338416141a0e6e78"></a>Parameter format&#160;</td><td class="fielddoc">
<p>The parameters are broken out in a readable form in the settings group, so your best bet is to use those. See the sample code for usage.<br />
 The <code>parameter</code> element is a single vector piling up all elements, beginning with the first <img class="formulaInl" alt="$n-1$" src="form_61.png"/> weights, followed by an <code>apop_data_pack</code> of each model's parameters in sequence. Because all elements are in a single vector, one could run a maximum likelihood search for all components (including the weights) at once. The <code>log_likehood</code>, <code>estimate</code>, and other methods unpack this vector into its component parts for you. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="ggaf085564a8adc67ba156c4cd1db8145e3ac27a314a1a3d6fd4b65b2d24c13e4e62"></a>Post-estimate data&#160;</td><td class="fielddoc">
<p>Unchanged. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="ggaf085564a8adc67ba156c4cd1db8145e3a8946db26fadffdb325dd95401be6b31b"></a>RNG&#160;</td><td class="fielddoc">
<p>Uses the weights to select a component model, then makes a draw from that component. The model's <code>dsize</code> (draw size) element is set when you set up the model in the model's <code>prep</code> method (automatically called by <a class="el" href="group__all__public.html#gaf78221aa4167b7b52bdd0a26aab8e576">apop_estimate</a>, or call it directly) iff all component models have the same <code>dsize</code>. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="ggaf085564a8adc67ba156c4cd1db8145e3a9b1ebfd48939eabd26c98cbc69bac559"></a>Settings&#160;</td><td class="fielddoc">
<p><a class="el" href="structapop__mixture__settings.html">apop_mixture_settings</a> </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="ggaf085564a8adc67ba156c4cd1db8145e3a9fd1e9338cf13b2752a9423bfd4393ea"></a>Examples&#160;</td><td class="fielddoc">
<p>The first example uses a text file <code>faith.data</code>, in the <code>tests</code> directory of the distribution. </p><div class="fragment"><div class="line"></div><div class="line"><span class="preprocessor">#ifdef Datadir</span></div><div class="line"><span class="preprocessor">#define DATADIR Datadir</span></div><div class="line"><span class="preprocessor">#else</span></div><div class="line"><span class="preprocessor">#define DATADIR &quot;.&quot;</span></div><div class="line"><span class="preprocessor">#endif</span></div><div class="line"></div><div class="line"><span class="preprocessor">#include &lt;apop.h&gt;</span></div><div class="line"></div><div class="line"><span class="comment">/* This replacement for apop_model_print(in) demonstrates retrieval of the useful</span></div><div class="line"><span class="comment">settings: the weights (Î») and list of estimated models. It is here only for</span></div><div class="line"><span class="comment">demonstration purposes---it is what apop_model_print(your_mix) will do.</span></div><div class="line"><span class="comment">*/</span></div><div class="line"><span class="keywordtype">void</span> show_mix(<a class="code" href="structapop__model.html">apop_model</a> *in){</div><div class="line">    <a class="code" href="structapop__mixture__settings.html">apop_mixture_settings</a> *ms = <a class="code" href="group__all__public.html#gaafba071ab93465fed4cac1020082b4c8">Apop_settings_get_group</a>(in, <a class="code" href="group__models.html#gaf085564a8adc67ba156c4cd1db8145e3">apop_mixture</a>);</div><div class="line">    printf(<span class="stringliteral">&quot;The weights:\n&quot;</span>);</div><div class="line">    <a class="code" href="group__all__public.html#ga6e68deb42339cf6068ab6e741237918d">apop_vector_print</a>(ms-&gt;<a class="code" href="structapop__mixture__settings.html#af06728d5618bb4c903e6f871b504d4e3">weights</a>);</div><div class="line">    printf(<span class="stringliteral">&quot;\nThe models:\n&quot;</span>);</div><div class="line">    <span class="keywordflow">for</span> (<a class="code" href="structapop__model.html">apop_model</a> **m = ms-&gt;<a class="code" href="structapop__mixture__settings.html#aa8b997e7173017144a89e9eb2e3c6f01">model_list</a>; *m; m++) <span class="comment">//model_list is a NULL-terminated list.</span></div><div class="line">        <a class="code" href="group__all__public.html#gadc1043a5cda856a5d0a5629dd3f9515e">apop_model_print</a>(*m, stdout);</div><div class="line">}</div><div class="line"></div><div class="line"><span class="keywordtype">int</span> main(){</div><div class="line">    <a class="code" href="group__all__public.html#gabd00e16791a970631c3ed4ac3487da46">apop_text_to_db</a>( DATADIR <span class="stringliteral">&quot;/&quot;</span> <span class="stringliteral">&quot;faith.data&quot;</span>, <span class="stringliteral">&quot;ff&quot;</span>);</div><div class="line">    <a class="code" href="structapop__data.html">apop_data</a> *dd = apop_query_to_data(<span class="stringliteral">&quot;select waiting from ff&quot;</span>);</div><div class="line">    <a class="code" href="structapop__model.html">apop_model</a> *mf = <a class="code" href="group__all__public.html#ga40bb98b02fde8f8e4ab59a4d127b692f">apop_model_mixture</a>(<a class="code" href="group__all__public.html#ga2d3ad385ec1664415251db974e7505e6">apop_model_copy</a>(apop_normal), <a class="code" href="group__all__public.html#ga2d3ad385ec1664415251db974e7505e6">apop_model_copy</a>(apop_normal));</div><div class="line">    <a class="code" href="group__all__public.html#ga8659282b6003f7c2adac6f4baad5fae4">Apop_settings_set</a>(mf, <a class="code" href="group__models.html#gaf085564a8adc67ba156c4cd1db8145e3">apop_mixture</a>, find_weights, <span class="charliteral">&#39;y&#39;</span>);<span class="comment">//Use the EM algorithm to search for optimal weights.</span></div><div class="line"></div><div class="line">    <span class="comment">/* The process is famously sensitive to starting points. Try many random points, or</span></div><div class="line"><span class="comment">       eyeball the distribution&#39;s plot and guess at the starting values. */</span></div><div class="line">    Apop_model_add_group(mf, apop_mle, .starting_pt=(<span class="keywordtype">double</span>[]){.5, .5, 50, 5, 80, 5},</div><div class="line">                                       .step_size=3, .tolerance=1e-6);</div><div class="line">    <a class="code" href="structapop__model.html">apop_model</a> *mfe = <a class="code" href="group__all__public.html#gaf78221aa4167b7b52bdd0a26aab8e576">apop_estimate</a>(dd, mf);</div><div class="line">    <a class="code" href="group__all__public.html#gadc1043a5cda856a5d0a5629dd3f9515e">apop_model_print</a>(mfe, stdout);</div><div class="line">    printf(<span class="stringliteral">&quot;LL=%g\n&quot;</span>, <a class="code" href="group__all__public.html#ga5e160c8d0a0ee660c89fb3f6de2af89c">apop_log_likelihood</a>(dd, mfe));</div><div class="line"></div><div class="line"></div><div class="line">    printf(<span class="stringliteral">&quot;\n\nValues calculated in the source paper, for comparison.\n&quot;</span>);</div><div class="line">    <a class="code" href="structapop__model.html">apop_model</a> *r_ed = <a class="code" href="group__all__public.html#ga40bb98b02fde8f8e4ab59a4d127b692f">apop_model_mixture</a>(</div><div class="line">                         apop_model_set_parameters(apop_normal, 54.61364, 5.869089),</div><div class="line">                         apop_model_set_parameters(apop_normal, 80.09031, 5.869089));</div><div class="line">    <a class="code" href="structapop__data.html">apop_data</a> *wts = apop_data_falloc((2), 0.3608498, 0.6391502);</div><div class="line">    Apop_settings_add(r_ed, <a class="code" href="group__models.html#gaf085564a8adc67ba156c4cd1db8145e3">apop_mixture</a>, weights, wts-&gt;vector);</div><div class="line">    show_mix(r_ed);</div><div class="line">    printf(<span class="stringliteral">&quot;LL=%g\n&quot;</span>, <a class="code" href="group__all__public.html#ga5e160c8d0a0ee660c89fb3f6de2af89c">apop_log_likelihood</a>(dd, r_ed));</div><div class="line">}</div></div><!-- fragment --><p>This example begins with a fixed mixture distribution, and makes assertions about the characteristics of draws from it.</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;apop.h&gt;</span></div><div class="line"></div><div class="line"><span class="comment">/* </span></div><div class="line"><span class="comment">Use apop_model_mixture to generate a hump-filled distribution, then find </span></div><div class="line"><span class="comment">the most likely data points and check that they are near the humps.</span></div><div class="line"><span class="comment">*/</span></div><div class="line"></div><div class="line"><span class="comment">//Produce a 2-D multivariate normal model with unit covariance and given mean </span></div><div class="line"><a class="code" href="structapop__model.html">apop_model</a> *produce_fixed_mvn(<span class="keywordtype">double</span> x, <span class="keywordtype">double</span> y){</div><div class="line">    <a class="code" href="structapop__model.html">apop_model</a> *out = <a class="code" href="group__all__public.html#ga2d3ad385ec1664415251db974e7505e6">apop_model_copy</a>(<a class="code" href="group__models.html#ga3a4389e6e2a1a2ea606f89d55ec558d3">apop_multivariate_normal</a>);</div><div class="line">    out-&gt;parameters = apop_data_falloc((2, 2, 2),</div><div class="line">                        x, 1, 0,</div><div class="line">                        y, 0, 1);</div><div class="line">    out-&gt;dsize = 2;</div><div class="line">    <span class="keywordflow">return</span> out;</div><div class="line">}</div><div class="line"></div><div class="line"><span class="keywordtype">int</span> main(){</div><div class="line">    <span class="comment">//here&#39;s a mean/covariance matrix for a standard multivariate normal.</span></div><div class="line">    <a class="code" href="structapop__model.html">apop_model</a> *many_humps = <a class="code" href="group__all__public.html#ga40bb98b02fde8f8e4ab59a4d127b692f">apop_model_mixture</a>(</div><div class="line">                        produce_fixed_mvn(5, 6),</div><div class="line">                        produce_fixed_mvn(-5, -4),</div><div class="line">                        produce_fixed_mvn(0, 1));</div><div class="line">    <a class="code" href="group__all__public.html#ga373ccc4cb87b162d62d07a2685ccd8ba">apop_prep</a>(NULL, many_humps);</div><div class="line"></div><div class="line">    <span class="keywordtype">int</span> len = 100000;</div><div class="line">    <a class="code" href="structapop__data.html">apop_data</a> *d = <a class="code" href="group__all__public.html#gaa8d1687ac5d77dfaefe2222b44829cdd">apop_model_draws</a>(many_humps, len);</div><div class="line"></div><div class="line">    gsl_vector *first = <a class="code" href="group__all__public.html#ga825321182fbaa7471069f13447170810">Apop_cv</a>(d, 0);</div><div class="line">    printf(<span class="stringliteral">&quot;mu=%g\n&quot;</span>, apop_mean(first));</div><div class="line">    assert(fabs(apop_mean(first)- 0) &lt; 5e-2);</div><div class="line"></div><div class="line">    gsl_vector *second = <a class="code" href="group__all__public.html#ga825321182fbaa7471069f13447170810">Apop_cv</a>(d, 1);</div><div class="line">    printf(<span class="stringliteral">&quot;mu=%g\n&quot;</span>, apop_mean(second));</div><div class="line">    assert(fabs(apop_mean(second)- 1) &lt; 5e-2);</div><div class="line"></div><div class="line"><span class="comment">/*  Use the ML imputation routine to search for the input value with the highest</span></div><div class="line"><span class="comment">    log likelihood. Do the search via simulated annealing. */</span></div><div class="line"></div><div class="line">    <a class="code" href="structapop__data.html">apop_data</a> *x = <a class="code" href="group__all__public.html#gace409be528a5030732bc7e83e0555c26">apop_data_alloc</a>(1,2);</div><div class="line">    gsl_matrix_set_all(x-&gt;matrix, NAN);</div><div class="line"></div><div class="line">    apop_opts.<a class="code" href="structapop__opts__type.html#a7b3c6c9e58241b7e69db4fdfc6ee96a2">stop_on_warning</a>=<span class="charliteral">&#39;v&#39;</span>;</div><div class="line">    <a class="code" href="group__all__public.html#ga03d449376e5054c69737647db7c17731">apop_ml_impute</a>(x, many_humps);</div><div class="line"></div><div class="line">    printf(<span class="stringliteral">&quot;Optimum found at:\n&quot;</span>);</div><div class="line">    apop_data_show(x);</div><div class="line">    assert(fabs(<a class="code" href="group__all__public.html#ga06107779e4a3eb229715ceca24352b89">apop_data_get</a>(x, .col=0)- 0) + fabs(<a class="code" href="group__all__public.html#ga06107779e4a3eb229715ceca24352b89">apop_data_get</a>(x, .col=1) - 1) &lt; 1e-2);</div><div class="line">}</div></div><!-- fragment --> </td></tr>
</table>

</div>
</div>
<a class="anchor" id="gacd7823e794194d3646d586484833882a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">apop_model <a class="el" href="group__models.html#gacd7823e794194d3646d586484833882a">apop_multinomial</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The <img class="formulaInl" alt="$n$" src="form_10.png"/>&ndash;option generalization of the <a class="el" href="group__models.html#ga20017e88fda3695f093279c8191f48e3">Binomial distribution</a>. </p>
<table class="fieldtable">
<tr><td class="fieldname"><a class="anchor" id="ggacd7823e794194d3646d586484833882aabcb240df2d575c612a407518ee7cd751"></a>Name&#160;</td><td class="fielddoc">
<p><code>Binomial distribution</code> </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="ggacd7823e794194d3646d586484833882aada7bee035b320a28dcd81dba16e3530a"></a>Input format&#160;</td><td class="fielddoc">
<p>Each row of the matrix is one observation: a set of draws from a single bin. The number of draws of type zero are in column zero, the number of draws of type one in column one, et cetera.</p>
<ul>
<li>You may have a set of several Bernoulli-type draws, which could be summed together to form a single Binomial draw. The <a class="el" href="group__all__public.html#ga0712d31cbfe6d7e0020545d71bd3139c">apop_data_to_dummies</a> function (using the <code>.keep_first='y'</code> option), to split a single column of numbers into a sequence of columns, may help with this. </li>
</ul>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="ggacd7823e794194d3646d586484833882aa9924bce9086c9687768c2946ed9c56f0"></a>Parameter format&#160;</td><td class="fielddoc">
<p>The parameters are kept in the vector element of the <code><a class="el" href="structapop__model.html">apop_model</a></code> parameters element. <code>parameters-&gt;vector-&gt;data</code>[0]==n; <code>parameters-&gt;vector-&gt;data</code>[1...]==p_1....</p>
<p>The numeraire is bin zero, meaning that <img class="formulaInl" alt="$p_0$" src="form_170.png"/> is not explicitly listed, but is <img class="formulaInl" alt="$p_0=1-\sum_{i=1}^{k-1} p_i$" src="form_171.png"/>, where <img class="formulaInl" alt="$k$" src="form_51.png"/> is the number of bins. Conveniently enough, the zeroth element of the parameters vector holds <img class="formulaInl" alt="$n$" src="form_10.png"/>, and so a full probability vector can easily be produced by overwriting that first element. For example: </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;apop_model *estimated = apop_estimate(your_data, apop_multinomial);</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;int n = apop_data_get(estimated-&gt;parameters); </div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;apop_data_set(estimated-&gt;parameters, .val=1 - (apop_sum(estimated-&gt;parameters)-n)); </div></div><!-- fragment --><p> And now the parameter vector is a proper list of probabilities.</p>
<ul>
<li>Because an observation is a single row, the number of bins, <img class="formulaInl" alt="$k$" src="form_51.png"/> is set to equal the length of the first row (counting both vector and matrix elements, as appropriate). The covariance matrix will be <img class="formulaInl" alt="$k \times k$" src="form_172.png"/>.</li>
</ul>
<ul>
<li>Each row should sum to <img class="formulaInl" alt="$N$" src="form_74.png"/>, the number of draws. The estimation routine doesn't check this, but instead uses the average sum across all rows. </li>
</ul>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="ggacd7823e794194d3646d586484833882aab4c93835f96033cfe3b275f623464180"></a>Post-estimate data&#160;</td><td class="fielddoc">
<p>Unchanged. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="ggacd7823e794194d3646d586484833882aa2bdaf2f1ac14cb75cb9e98aa8bdeab4a"></a>Post-estimate info&#160;</td><td class="fielddoc">
<p>Reports <code>log likelihood</code>.  </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="ggacd7823e794194d3646d586484833882aa82a752cff9ca429d5035170b244496aa"></a>RNG&#160;</td><td class="fielddoc">
<p>Returns a single vector of length <img class="formulaInl" alt="$k$" src="form_51.png"/>, the result of an imaginary tossing of <img class="formulaInl" alt="$N$" src="form_74.png"/> balls into <img class="formulaInl" alt="$k$" src="form_51.png"/> urns, with the given probabilities. </p>
</td></tr>
</table>

</div>
</div>
<a class="anchor" id="ga3a4389e6e2a1a2ea606f89d55ec558d3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">apop_model <a class="el" href="group__models.html#ga3a4389e6e2a1a2ea606f89d55ec558d3">apop_multivariate_normal</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This is the multivariate generalization of the Normal distribution. </p>
<table class="fieldtable">
<tr><td class="fieldname"><a class="anchor" id="gga3a4389e6e2a1a2ea606f89d55ec558d3a4b84be1fb79a6a64fe769f38f502f5bb"></a>Name&#160;</td><td class="fielddoc">
<p><code>Multivariate normal distribution</code> </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga3a4389e6e2a1a2ea606f89d55ec558d3a5a5b393fddcc7b1fa1a78c030a672ba6"></a>Input format&#160;</td><td class="fielddoc">
<p>Each row of the matrix is an observation. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga3a4389e6e2a1a2ea606f89d55ec558d3a87d5e0dae55445e170a13f8af7afccc0"></a>Parameter format&#160;</td><td class="fielddoc">
<p>An <code><a class="el" href="structapop__data.html">apop_data</a></code> set whose vector element is the vector of means, and whose matrix is the covariances.</p>
<p>If you had only one dimension, the mean would be a vector of size one, and the covariance matrix a <img class="formulaInl" alt="$1\times 1$" src="form_173.png"/> matrix. This differs from the setup for <a class="el" href="group__models.html#ga297c2dc8dbdf4ae93fc7e10860400466">apop_normal</a>, which outputs a single vector with <img class="formulaInl" alt="$\mu$" src="form_77.png"/> in element zero and <img class="formulaInl" alt="$\sigma$" src="form_71.png"/> in element one.</p>
<p>After estimation, the <code>&lt;Covariance&gt;</code> page gives the covariance matrix of the means. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga3a4389e6e2a1a2ea606f89d55ec558d3ae02d3373ba1963b7e13737d58d257983"></a>Post-estimate data&#160;</td><td class="fielddoc">
<p>Unchanged. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga3a4389e6e2a1a2ea606f89d55ec558d3aa539b5dc848d7c09947fc22ef87cbe1c"></a>Post-estimate info&#160;</td><td class="fielddoc">
<p>Reports <code>log likelihood</code>.  </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga3a4389e6e2a1a2ea606f89d55ec558d3ac6231fb185d75498d6071812974e5e90"></a>RNG&#160;</td><td class="fielddoc">
<p>From <a href="http://cgm.cs.mcgill.ca/~luc/mbookindex.html">Devroye (1986)</a>, p 565. </p>
</td></tr>
</table>

</div>
</div>
<a class="anchor" id="ga297c2dc8dbdf4ae93fc7e10860400466"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">apop_model <a class="el" href="group__models.html#ga297c2dc8dbdf4ae93fc7e10860400466">apop_normal</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>You know it, it's your attractor in the limit, it's the Gaussian distribution.</p>
<p><img class="formulaInl" alt="$N(\mu,\sigma^2) = {1 \over \sqrt{2 \pi \sigma^2}} \exp (-x^2 / 2\sigma^2)$" src="form_160.png"/></p>
<p><img class="formulaInl" alt="$\ln N(\mu,\sigma^2) = (-(x-\mu)^2 / 2\sigma^2) - \ln (2 \pi \sigma^2)/2 $" src="form_161.png"/></p>
<p><img class="formulaInl" alt="$d\ln N(\mu,\sigma^2)/d\mu = (x-\mu) / \sigma^2 $" src="form_162.png"/></p>
<p><img class="formulaInl" alt="$d\ln N(\mu,\sigma^2)/d\sigma^2 = ((x-\mu)^2 / 2(\sigma^2)^2) - 1/2\sigma^2 $" src="form_163.png"/></p>
<p>See also the <a class="el" href="group__models.html#ga3a4389e6e2a1a2ea606f89d55ec558d3">apop_multivariate_normal</a>. </p>
<table class="fieldtable">
<tr><td class="fieldname"><a class="anchor" id="gga297c2dc8dbdf4ae93fc7e10860400466a7e9d07d117adcc3e70c97f846f03003c"></a>Name&#160;</td><td class="fielddoc">
<p><code>Normal distribution</code> </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga297c2dc8dbdf4ae93fc7e10860400466aaa15b17d2202559927e802902e9502b6"></a>Input format&#160;</td><td class="fielddoc">
<p>A scalar, in the <code>vector</code> or <code>matrix</code> elements of the input <a class="el" href="gentle.html#apop_data">apop_data</a> set. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga297c2dc8dbdf4ae93fc7e10860400466ab26fab7da0a30d6a66ab5b8bc6e54c9f"></a>Parameter format&#160;</td><td class="fielddoc">
<p>Parameter zero (in the vector) is the mean, parmeter one is the standard deviation (i.e., the square root of the variance). After estimation, a page is added named <code>&lt;Covariance&gt;</code> with the 2 <img class="formulaInl" alt="$\times$" src="form_180.png"/> 2 covariance matrix for these two parameters. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga297c2dc8dbdf4ae93fc7e10860400466a3cd5282beba7367ba6ddc50376922a05"></a>Post-estimate data&#160;</td><td class="fielddoc">
<p>Unchanged. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga297c2dc8dbdf4ae93fc7e10860400466a3b08207668630e4eda478e64898048ea"></a>Post-estimate info&#160;</td><td class="fielddoc">
<p>Reports the log likelihood. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga297c2dc8dbdf4ae93fc7e10860400466a1b67002cb1fa3c03dcdd40fbded94b19"></a>Predict&#160;</td><td class="fielddoc">
<p><code>apop_predict(NULL, estimated_normal_model)</code> returns the expected value. The <code>-&gt;more</code> element holds an <a class="el" href="gentle.html#apop_data">apop_data</a> set with the title <code>&lt;Covariance&gt;</code>, whose matrix holds the covariance of the mean. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga297c2dc8dbdf4ae93fc7e10860400466a3a3cffad0b7ca17d9fd78dcc68052a5b"></a>RNG&#160;</td><td class="fielddoc">
<p>A wrapper for the GSL's Normal RNG. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga297c2dc8dbdf4ae93fc7e10860400466a8ef5a14c6abdd25509d85b3b8caabf18"></a>Settings&#160;</td><td class="fielddoc">
<p>None. </p>
</td></tr>
</table>

</div>
</div>
<a class="anchor" id="ga85524b1deabd5829227888fd91740cc3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">apop_model <a class="el" href="group__models.html#ga85524b1deabd5829227888fd91740cc3">apop_ols</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Ordinary least squares. Weighted least squares is also handled by this model. </p>
<table class="fieldtable">
<tr><td class="fieldname"><a class="anchor" id="gga85524b1deabd5829227888fd91740cc3a3653e32f34c0e7cbee2d48e66b1b7f62"></a>Name&#160;</td><td class="fielddoc">
<p><code>Ordinary Least Squares</code> </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga85524b1deabd5829227888fd91740cc3a477a78c629d063a0bfa6760516adb703"></a>Input format&#160;</td><td class="fielddoc">
<p>See the notes on the prep routine.</p>
<p>If you provide weights in <code>your_input_data-&gt;weights</code>, then I will use them appropriately. That is, the <a class="el" href="group__models.html#ga85524b1deabd5829227888fd91740cc3">apop_ols</a> model really implements Weighted Least Squares, but in most cases <code>weights==NULL</code> and the math reduces to the special case of Ordinary Least Squares. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga85524b1deabd5829227888fd91740cc3aa33bfef67569eaf7a0d558f3eb485c7c"></a>Prep routine&#160;</td><td class="fielddoc">
<p>If your input data has no <code>vector</code> element, then column zero of the matrix is taken to be the dependent variable. This routine moves the dependent variable to the <code>vector</code>, and replaces column zero with a column of all ones, indicating a constant term. This is the norm for OLS, and is probably what you want. The easiest way to generate data for this sort of process is via a query like <code>apop_query_to_matrix("select depvar, independent_var1,
independent_var2 from dataset")</code>.</p>
<p>If your data has a <code>vector</code> element, then the prep routines won't try to force something to be there. That is, nothing will be moved, and no constant column generated. If you don't want to use a constant column, or your data has already been prepped by an estimation, then this is what you want. See apop_query_to_mixed_data for an easy way to generate a data set like this via queries. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga85524b1deabd5829227888fd91740cc3a6a7cc6d1c86c9453b90a4b8c6619910e"></a>Parameter format&#160;</td><td class="fielddoc">
<p>A vector of OLS coefficients. Coefficient zero refers to the constant column, if any. The <code>vector</code> of the output will therefore be of size <code>data-&gt;size2</code>.</p>
<p>The estimation routine appends a page to the <code>parameters</code> named <code>&lt;Covariance&gt;</code>, giving the covariance matrix for the estimated parameters (not the data itself). If the predicted values are calculated (and appended to the <code>info</code> page), then a page is appended to the <code>parameters</code> named <code>&lt;Error variance&gt;</code>, giving the variance of the error term. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga85524b1deabd5829227888fd91740cc3a90fe8b700f7c667e7d897154dfb10281"></a>Post-estimate data&#160;</td><td class="fielddoc">
<p>You can specify whether the data is modified with an <a class="el" href="structapop__lm__settings.html">apop_lm_settings</a> group. Else, left unchanged. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga85524b1deabd5829227888fd91740cc3a6b33e26e68adbb205a62448d4808017f"></a>Post-estimate parameter model&#160;</td><td class="fielddoc">
<p>For the mean, a noncentral <img class="formulaInl" alt="$t$" src="form_45.png"/> distribution (<a class="el" href="group__models.html#ga45ce986bd5ea79c39877792bec39a304">apop_t_distribution</a>). </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga85524b1deabd5829227888fd91740cc3abbb7fd22f48ee089a15aa29ba6338f4d"></a>Post-estimate info&#160;</td><td class="fielddoc">
<p>Reports log likelihood, and runs <a class="el" href="group__all__public.html#ga03378d8c8286659d21ce29d14625d269">apop_estimate_coefficient_of_determination</a> to add <img class="formulaInl" alt="$R^2$" src="form_48.png"/>-type information (SSE, SSR, &amp;c) to the info page.</p>
<p>Residuals: I add a page named <code>&lt;Predicted&gt;</code>, with three columns. The first column is the dependent variable from the input data. Let our model be <img class="formulaInl" alt="$ Y = \beta X + \epsilon$" src="form_174.png"/>. Then the second column is the predicted values: <img class="formulaInl" alt="$\beta X$" src="form_175.png"/>, and the third column is the residuals: <img class="formulaInl" alt="$\epsilon$" src="form_50.png"/>. The third column is therefore always the first minus the second.</p>
<p>Given your estimate <code>est</code>, the zeroth element is one of <br />
 <code> apop_data_get(est-&gt;info, .page= "Predicted", .row=0, .colname="observed"),</code><br />
 <code> apop_data_get(est-&gt;info, .page= "Predicted", .row=0, .colname="predicted") or</code><br />
 <code> apop_data_get(est-&gt;info, .page= "Predicted", .row=0, .colname="residual").</code><br />
  </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga85524b1deabd5829227888fd91740cc3a686e28adf99c0b3146df29c4fe59b51c"></a>RNG&#160;</td><td class="fielddoc">
<p>Linear models are typically only partially defined probability models. For OLS, we know that <img class="formulaInl" alt="$P(Y|X\beta) \sim {\cal N}(X\beta, \sigma)$" src="form_176.png"/>, because this is an assumption about the error process, but we don't know much of anything about the distribution of <img class="formulaInl" alt="$X$" src="form_3.png"/>.</p>
<p>The <a class="el" href="structapop__lm__settings.html">apop_lm_settings</a> group includes an <a class="el" href="structapop__model.html">apop_model</a> element named <code>input_distribution</code>. This is the distribution of the independent/predictor/X columns of the data set.</p>
<p>The default is that <code>input_distribution = apop_improper_uniform </code>, meaning that <img class="formulaInl" alt="$P(X)=1$" src="form_177.png"/> for all <img class="formulaInl" alt="$X$" src="form_3.png"/>. So <img class="formulaInl" alt="$P(Y, X) = P(Y|X)P(X) = P(Y|X)$" src="form_178.png"/>. This seems to be how many people use linear models: the <img class="formulaInl" alt="$X$" src="form_3.png"/> values are taken as certain (as with actually observed data) and the only question is the odds of the dependent variable. If that's what you're looking for, just leave the default. This is sufficient for getting log likelihoods under the typical assumption that the observed data has probability one.</p>
<p><em>But</em> you can't draw from an improper uniform. So if you draw from a linear model with a default <code>input_distribution</code>, then you'll get an error.</p>
<p>Alternatively, you may know something about the distribution of the input data. For example, the data model may simply be a PMF from the actual data: </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;apop_settings_set(your_model, apop_lm, input_distribution, apop_estimate(inset, apop_pmf));</div></div><!-- fragment --><p> Now, random draws are taken from the input data, and the dependent variable value calculated via <img class="formulaInl" alt="$X\beta+\epsilon$" src="form_179.png"/>, where <img class="formulaInl" alt="$X$" src="form_3.png"/> is the drawn value, <img class="formulaInl" alt="$\beta$" src="form_7.png"/> the previously-estimated parameters and <img class="formulaInl" alt="$\epsilon$" src="form_50.png"/> is a Normally-distributed random draw. Or change the PMF to any other appropriate distribution, such as a <a class="el" href="group__models.html#ga3a4389e6e2a1a2ea606f89d55ec558d3">apop_multivariate_normal</a>, or an <a class="el" href="group__models.html#gaca8f3323c57e0223a9f3c0f991c9760e">apop_pmf</a> filled in with more data, or perhaps something from <a href="http://en.wikipedia.org/wiki/Errors-in-variables_models">http://en.wikipedia.org/wiki/Errors-in-variables_models</a> , as desired. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga85524b1deabd5829227888fd91740cc3a440a65ebef685ff0e69f24d97f20fc4e"></a>Examples&#160;</td><td class="fielddoc">
<p><a class="el" href="gentle.html">A quick overview</a> opens with a sample program using OLS. For quick reference, here is the program, but see that page for a full discussion.</p>
<div class="fragment"><div class="line"><span class="preprocessor">#ifdef Datadir</span></div><div class="line"><span class="preprocessor">#define DATADIR Datadir</span></div><div class="line"><span class="preprocessor">#else</span></div><div class="line"><span class="preprocessor">#define DATADIR &quot;.&quot;</span></div><div class="line"><span class="preprocessor">#endif</span></div><div class="line"></div><div class="line"><span class="preprocessor">#include &lt;apop.h&gt;</span></div><div class="line"></div><div class="line"><span class="keywordtype">int</span> main(){</div><div class="line">    <a class="code" href="group__all__public.html#gabd00e16791a970631c3ed4ac3487da46">apop_text_to_db</a>(.text_file= DATADIR <span class="stringliteral">&quot;/&quot;</span> <span class="stringliteral">&quot;data&quot;</span> , .tabname=<span class="stringliteral">&quot;d&quot;</span>);</div><div class="line">    <a class="code" href="structapop__data.html">apop_data</a> *data = apop_query_to_data(<span class="stringliteral">&quot;select * from d&quot;</span>);</div><div class="line">    <a class="code" href="structapop__model.html">apop_model</a> *est = <a class="code" href="group__all__public.html#gaf78221aa4167b7b52bdd0a26aab8e576">apop_estimate</a>(data, <a class="code" href="group__models.html#ga85524b1deabd5829227888fd91740cc3">apop_ols</a>);</div><div class="line">    <a class="code" href="group__all__public.html#gadc1043a5cda856a5d0a5629dd3f9515e">apop_model_print</a>(est);</div><div class="line">}</div></div><!-- fragment --> </td></tr>
</table>

</div>
</div>
<a class="anchor" id="gaca8f3323c57e0223a9f3c0f991c9760e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">apop_model <a class="el" href="group__models.html#gaca8f3323c57e0223a9f3c0f991c9760e">apop_pmf</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>A probability mass function is commonly known as a histogram, or still more commonly, a bar chart. It indicates that at a given coordinate, there is a given mass.</p>
<p>Each row of the PMF's data set holds the coordinates, and the <em>weights vector</em> holds the mass at the given point. This is in contrast to the crosstab format, where the location is simply given by the position of the data point in the grid.</p>
<p>For example, here is a typical crosstab:</p>
<table class="doxtable">
<tr>
<td></td><td>col 0</td><td>col 1</td><td>col 2 </td></tr>
<tr>
<td>row 0 </td><td>0</td><td>8.1</td><td>3.2 </td></tr>
<tr>
<td>row 1 </td><td>0</td><td>0</td><td>2.2 </td></tr>
<tr>
<td>row 2 </td><td>0</td><td>7.3</td><td>1.2 </td></tr>
</table>
<p>Here it is as a sparse listing:</p>
<table class="doxtable">
<tr>
<td>dimension 1</td><td>dimension 2</td><td>value </td></tr>
<tr>
<td>0 </td><td>1 </td><td>8.1 </td></tr>
<tr>
<td>0 </td><td>2 </td><td>3.2 </td></tr>
<tr>
<td>1 </td><td>2 </td><td>2.2 </td></tr>
<tr>
<td>2 </td><td>1 </td><td>7.3 </td></tr>
<tr>
<td>2 </td><td>2 </td><td>1.2 </td></tr>
</table>
<p>The <code>apop_pmf</code> internally represents data in this manner, with the dimensions in the <code>matrix</code>, <code>vector</code>, and <code>text</code> element of the data set, and the cell values are held in the <code>weights</code> element (not the vector).</p>
<p>If your data is in a crosstab (with observation coordinates in the matrix element for 2-D data or the vector for 1-D data), then use <a class="el" href="group__all__public.html#gaee8c299b83b8500b8b6ecd30817353c8">apop_crosstab_to_db</a> to make the conversion. See also <a href="https://github.com/b-k/Apophenia/wiki/Crosstab-to-PMF">the wiki</a> for another crosstab-to-PMF function.</p>
<p>If your data is already in the sparse listing format (which is probably the case for 3- or more dimensional data), then estimate the model via:</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;apop_model *my_pmf = apop_estimate(in_data, apop_pmf);</div></div><!-- fragment --><ul>
<li>If the <code>weights</code> element is <code>NULL</code>, then I assume that all rows of the data set are equally probable. </li>
<li>If the <code>weights</code> are present but sum to a not-finite value, the model's <code>error</code> element is set to <code>'w'</code> when the estimation is run, and a warning printed. </li>
</ul>
<table class="fieldtable">
<tr><td class="fieldname"><a class="anchor" id="ggaca8f3323c57e0223a9f3c0f991c9760ea04fa96e9cd74fe9d13099646d4884700"></a>Name&#160;</td><td class="fielddoc">
<p><code>PDF or sparse matrix</code> </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="ggaca8f3323c57e0223a9f3c0f991c9760ea67c36e9eef40d99c79fbee04282874c4"></a>Input format&#160;</td><td class="fielddoc">
<p>One observation per row, with coordinates in the <code>vector</code>, <code>matrix</code>, and/or <code>text</code>, and the density at that point in the <code>weights</code>. If <code>weights==NULL</code>, all observations are equiprobable. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="ggaca8f3323c57e0223a9f3c0f991c9760eac96e7d7825c0df6dbb6d2c68b146cff6"></a>Parameter format&#160;</td><td class="fielddoc">
<p>None. The list of observations and their weights are in the <code>data</code> set, not the <code>parameters</code>. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="ggaca8f3323c57e0223a9f3c0f991c9760ea3b3a0a7363098de9cd5e3e5cd2a5ba7b"></a>Post-estimate data&#160;</td><td class="fielddoc">
<p>The data you sent in is linked to (not copied). </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="ggaca8f3323c57e0223a9f3c0f991c9760ea2dd0a77edd0e72c4477bc7085c034c61"></a>Post-estimate parameters&#160;</td><td class="fielddoc">
<p>Still <code>NULL</code>. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="ggaca8f3323c57e0223a9f3c0f991c9760ea952f9efe79f2f37f95d8b2c43ffd64d7"></a>RNG&#160;</td><td class="fielddoc">
<p>Return the data in a random row of the PMF's data set. If there is a weights vector, I will use that to make draws; else all rows are equiprobable.</p>
<ul>
<li>If you set <code>draw_index</code> to <code>'y'</code>, e.g.,</li>
</ul>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;Apop_settings_add(your_model, apop_pmf, draw_index, &#39;y&#39;);</div></div><!-- fragment --><p>then I will return the row number of the draw, not the data in that row. Because <a class="el" href="group__all__public.html#ga87f15cd1923ed7b5b46e52a77ca1dfef">apop_draw</a> only returns numeric data, this is the only meaningful way to make draws from text data.</p>
<ul>
<li>The first time you draw from a PMF with uneven weights, I will generate a vector tallying the cumulative mass. Subsequent draws will have no computational overhead. Because the vector is built using the data on the first call to this or the <code>cdf</code> method, do not rearrange or modify the data after the first call. I.e., if you choose to use <a class="el" href="group__all__public.html#ga721ed20cd27f7d8ae4f752f48ff69ef4">apop_data_sort</a> or <a class="el" href="group__all__public.html#ga1c92706fa6e3e58e66bfb649cbe3dc28">apop_data_pmf_compress</a> on your data, do it before the first draw or CDF calculation.</li>
</ul>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">m-&gt;error='f'</td><td>There is zero or NaN density in the CMF. I set the model's <code>error</code> element to <code>'f'</code> and set <code>out=NAN</code>. </td></tr>
    <tr><td class="paramname">m-&gt;error='a'</td><td>Allocation error. I set the model's <code>error</code> element to <code>'a'</code> and set <code>out=NAN</code>. Maybe try <a class="el" href="group__all__public.html#ga1c92706fa6e3e58e66bfb649cbe3dc28">apop_data_pmf_compress</a> first? </td></tr>
  </table>
  </dd>
</dl>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="ggaca8f3323c57e0223a9f3c0f991c9760ea433df8e1f1bbb986f9c49a431c9a5e89"></a>CDF&#160;</td><td class="fielddoc">
<p><em>Assuming the data is sorted in a meaningful manner</em>, find the total mass up to a given data point.</p>
<p>That is, a CDF only makes sense if the data space is totally ordered. The sorting you define using <a class="el" href="group__all__public.html#ga721ed20cd27f7d8ae4f752f48ff69ef4">apop_data_sort</a> defines that ordering.</p>
<ul>
<li>The input data should have the same number of columns as the data set used to construct the PMF. I use only the first row.</li>
</ul>
<ul>
<li>If the observation is not found in the data, return zero.</li>
</ul>
<ul>
<li>The first time you get a CDF from from a data set with uneven weights, I will generate a vector tallying the cumulative mass. Subsequent draws will have no computational overhead. Because the vector is built using the data on the first call to this or the <code>cdf</code> method, do not rearrange or modify the data after the first call. I.e., if you choose to use <a class="el" href="group__all__public.html#ga721ed20cd27f7d8ae4f752f48ff69ef4">apop_data_sort</a> or <a class="el" href="group__all__public.html#ga721ed20cd27f7d8ae4f752f48ff69ef4">apop_data_sort</a> on your data, do it before the first draw or CDF calculation. </li>
</ul>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="ggaca8f3323c57e0223a9f3c0f991c9760ea8500a0b2fd2470ba7fcdf93a8f1be8c2"></a>Settings&#160;</td><td class="fielddoc">
<p><a class="el" href="structapop__pmf__settings.html">apop_pmf_settings</a> </p>
</td></tr>
</table>

</div>
</div>
<a class="anchor" id="ga9c67838a4761452cc2c9113557f2a070"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">apop_model <a class="el" href="group__models.html#ga9c67838a4761452cc2c9113557f2a070">apop_poisson</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p><img class="formulaInl" alt="$p(k) = {\mu^k \over k!} \exp(-\mu). $" src="form_159.png"/> </p>
<table class="fieldtable">
<tr><td class="fieldname"><a class="anchor" id="gga9c67838a4761452cc2c9113557f2a070affd081bcb4368f169538c14bebd4020c"></a>Name&#160;</td><td class="fielddoc">
<p><code>Poisson distribution</code> </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga9c67838a4761452cc2c9113557f2a070a2e767a027546109b44c899bab669101c"></a>Input format&#160;</td><td class="fielddoc">
<p>One scalar observation per row (in the <code>matrix</code> or <code>vector</code>). </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga9c67838a4761452cc2c9113557f2a070adcb38d478c57f0423f91f0f87a1ea029"></a>Parameter format&#160;</td><td class="fielddoc">
<p>One parameter, the zeroth element of the vector (<code>double mu = apop_data_get(estimated_model-&gt;parameters)</code>). </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga9c67838a4761452cc2c9113557f2a070a4db066cf9dfea3960b6199c7deda9a46"></a>Post-estimate data&#160;</td><td class="fielddoc">
<p>Unchanged. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga9c67838a4761452cc2c9113557f2a070a0987d6bb2c177dd64dbe3b32687fa3a0"></a>Post-estimate parameters&#160;</td><td class="fielddoc">
<p>Unless you decline it by adding the <a class="el" href="structapop__parts__wanted__settings.html">apop_parts_wanted_settings</a> group, I will also give you the variance of the parameter, via bootstrap, stored in a page named <code>&lt;Covariance&gt;</code>. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga9c67838a4761452cc2c9113557f2a070a457890560db963048295c3fb487e2e05"></a>Post-estimate info&#160;</td><td class="fielddoc">
<p>Reports <code>log likelihood</code>.  </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga9c67838a4761452cc2c9113557f2a070a38c95407fb642dcd3af88742320657b2"></a>RNG&#160;</td><td class="fielddoc">
<p>A wrapper for <code>gsl_ran_poisson</code>. Sets a single scalar. </p>
</td></tr>
</table>

</div>
</div>
<a class="anchor" id="ga319b8e3d5025a6fc94829a978273eb8b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">apop_model <a class="el" href="group__models.html#ga319b8e3d5025a6fc94829a978273eb8b">apop_probit</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Apophenia makes no distinction between the Bivariate Probit and the Multinomial Probit. This one does both. </p>
<table class="fieldtable">
<tr><td class="fieldname"><a class="anchor" id="gga319b8e3d5025a6fc94829a978273eb8bab50a9cab69449ac7f463fb901ed4d9f5"></a>Name&#160;</td><td class="fielddoc">
<p><code>Probit</code> </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga319b8e3d5025a6fc94829a978273eb8ba34d07ea4c98e604347548d1df317a876"></a>Input format&#160;</td><td class="fielddoc">
<p>The first column of the data matrix this model expects is zeros, ones, ..., enumerating the factors; see the prep routine. The remaining columns are values of the independent variables. Thus, the model will return [(data columns)-1] <img class="formulaInl" alt="$\times$" src="form_180.png"/>[(option count)-1] parameters. Column names are options; row names are input variables. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga319b8e3d5025a6fc94829a978273eb8ba1acb0091048b74b09c8fab12166df37e"></a>Prep routine&#160;</td><td class="fielddoc">
<p>The initial column of data should be a set of factors, set up via <a class="el" href="group__all__public.html#gac6988d5e7fb14aaae96ee73a5ea90e0c">apop_data_to_factors</a>. If I find a factor page, I will use that info; if not, then I will run <a class="el" href="group__all__public.html#gac6988d5e7fb14aaae96ee73a5ea90e0c">apop_data_to_factors</a> on the left-most column (the vector if there is one, else the first column of the matrix.)</p>
<p>Also, if there is no vector, then I will move the first column of the matrix, and replace that matrix column with a constant column of ones, just like with OLS. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga319b8e3d5025a6fc94829a978273eb8ba30dbfb278b2779b1961a172b1c40fd04"></a>Parameter format&#160;</td><td class="fielddoc">
<p>As above </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga319b8e3d5025a6fc94829a978273eb8bacd1df4b256520c43acf031b76b5110de"></a>Post-estimate data&#160;</td><td class="fielddoc">
<p>Unchanged. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga319b8e3d5025a6fc94829a978273eb8baa303657d67034088f70259a90b1d9add"></a>RNG&#160;</td><td class="fielddoc">
<p>See <a class="el" href="group__models.html#ga85524b1deabd5829227888fd91740cc3">apop_ols</a>; this one is similar but produces a category number instead of OLS's continuous draw. </p>
</td></tr>
</table>

</div>
</div>
<a class="anchor" id="ga45ce986bd5ea79c39877792bec39a304"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">apop_model <a class="el" href="group__models.html#ga45ce986bd5ea79c39877792bec39a304">apop_t_distribution</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The t distribution, primarily for descriptive purposes.</p>
<p>If you want to test a hypothesis, you probably don't need this, and should instead use <a class="el" href="group__all__public.html#ga650d1ecf6f78c3bdb85c8fce71dfae05">apop_test</a>.</p>
<p>In that world, the <img class="formulaInl" alt="$t$" src="form_45.png"/> distribution is parameter free. The data are assumed to be normalized to be based on a mean zero, variance one process, you get the degrees of freedom from the size of the data, and the distribution is thus fixed.</p>
<p>For modeling purposes, more could be done. For example, the t-distribution is a favorite proxy for Normal-like situations where there are fat tails relative to the Normal (i.e., high kurtosis). Or, you may just prefer not to take the step of normalizing your data&mdash;one could easily rewrite the theorems underlying the t-distribution without the normalizations.</p>
<p>In such a case, the researcher would not want to fix the <img class="formulaInl" alt="$df$" src="form_151.png"/>, because <img class="formulaInl" alt="$df$" src="form_151.png"/> indicates the fatness of the tails, which has some optimal value given the data. Thus, there are two modes of use for these distributions:</p>
<ul>
<li>Parameterized, testing style: the degrees of freedom are determined from the data, and all necessary normalizations are assumed. Thus, this code&mdash;</li>
</ul>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;apop_data *t_for_testing = apop_estimate(data, apop_t)</div></div><!-- fragment --><p>&mdash;will return exactly the type of <img class="formulaInl" alt="$t$" src="form_45.png"/>-distribution one would use for testing.</p>
<ul>
<li>By removing the <code>estimate</code> method&mdash; <div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;apop_model *spare_t = apop_model_copy(apop_t);</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;spare_t-&gt;estimate = NULL;</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;apop_model *best_fitting_t = apop_estimate(your_data, spare_t);</div></div><!-- fragment --> &mdash;I will find the best <img class="formulaInl" alt="$df$" src="form_151.png"/> via maximum likelihood, which may be desirable for to find the best-fitting model for descriptive purposes. </li>
</ul>
<table class="fieldtable">
<tr><td class="fieldname"><a class="anchor" id="gga45ce986bd5ea79c39877792bec39a304a7a36b9c3f94d21e01cee5cf096d907e8"></a>Name&#160;</td><td class="fielddoc">
<p><code>t distribution</code> </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga45ce986bd5ea79c39877792bec39a304a1447a7e2de7876a649185166e0e3471e"></a>Input format&#160;</td><td class="fielddoc">
<p>Unordered list of scalars in the matrix and/or vector. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga45ce986bd5ea79c39877792bec39a304addf9c786868d2562b43e0de520c08093"></a>Parameter format&#160;</td><td class="fielddoc">
<p>Three scalars in the <code>vector</code> element:<br />
 <code>double mu=apop_data_get(estimated_model-&gt;parameters, 0)</code><br />
 <code>double sigma=apop_data_get(estimated_model-&gt;parameters, 1)</code><br />
 <code>double df=apop_data_get(estimated_model-&gt;parameters, 2)</code> </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga45ce986bd5ea79c39877792bec39a304a0f21eee076e841f1f37c81d430827f3a"></a>Post-estimate data&#160;</td><td class="fielddoc">
<p>Unchanged. </p>
</td></tr>
</table>

</div>
</div>
<a class="anchor" id="ga95be4cc3931072118a7c8ffece73fbe1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">apop_model <a class="el" href="group__models.html#ga95be4cc3931072118a7c8ffece73fbe1">apop_uniform</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This is the two-parameter version of the Uniform, expressing a uniform distribution over [a, b].</p>
<p>The MLE of this distribution is simply a = min(your data); b = max(your data). Often useful for the RNG, such as when you have a Uniform prior model. </p>
<table class="fieldtable">
<tr><td class="fieldname"><a class="anchor" id="gga95be4cc3931072118a7c8ffece73fbe1ababfaf1a72b65c49015531fc834dec2c"></a>Name&#160;</td><td class="fielddoc">
<p><code>Uniform distribution</code> </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga95be4cc3931072118a7c8ffece73fbe1a734eddf4822216b6f93333920b8b4979"></a>Input format&#160;</td><td class="fielddoc">
<p>One scalar observation per row (in the <code>matrix</code> or <code>vector</code>). </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga95be4cc3931072118a7c8ffece73fbe1a2648c8cf817b5ad0f4cb16a4beef1a9e"></a>Parameter format&#160;</td><td class="fielddoc">
<p>Zeroth vector element is <img class="formulaInl" alt="$a$" src="form_184.png"/>, the min; element one is <img class="formulaInl" alt="$b$" src="form_185.png"/>, the max. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga95be4cc3931072118a7c8ffece73fbe1ac157fb8e7372793d5c7f869117e07bd4"></a>Post-estimate data&#160;</td><td class="fielddoc">
<p>Unchanged. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga95be4cc3931072118a7c8ffece73fbe1a11359298e4f19a7216648d2b62210c25"></a>Post-estimate info&#160;</td><td class="fielddoc">
<p>Reports <code>log likelihood</code>.  </p>
</td></tr>
</table>

</div>
</div>
<a class="anchor" id="ga1ddf478052543e1d801dfc64c99bcbe3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">apop_model <a class="el" href="group__models.html#ga1ddf478052543e1d801dfc64c99bcbe3">apop_yule</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p><img class="formulaInl" alt="$ Y(x, b) = (b-1) \gamma(b) \gamma(k) / \gamma(k+b) $" src="form_143.png"/></p>
<p><img class="formulaInl" alt="$ \ln Y(x, b) = \ln(b-1) + ln\gamma(b) + \ln\gamma(k) - \ln\gamma(k+b) $" src="form_144.png"/></p>
<p><img class="formulaInl" alt="$ d\ln Y/db = 1/(b-1) + \psi(b) - \psi(k+b) $" src="form_145.png"/> </p>
<table class="fieldtable">
<tr><td class="fieldname"><a class="anchor" id="gga1ddf478052543e1d801dfc64c99bcbe3a47be6e14065fb7fb6d6798fba8fa678d"></a>Name&#160;</td><td class="fielddoc">
<p><code>Yule distribution</code> </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga1ddf478052543e1d801dfc64c99bcbe3aedb16fc5b73493bf31579465948ab050"></a>Input format&#160;</td><td class="fielddoc">
<p>One scalar observation per row (in the <code>matrix</code> or <code>vector</code>). See also <a class="el" href="group__all__public.html#ga3a2b71415df4c9b6511b2f983dd6c645">apop_data_rank_compress</a> for means of dealing with one more input data format. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga1ddf478052543e1d801dfc64c99bcbe3afc222a2955e5658833caf10ee45f3a14"></a>Parameter format&#160;</td><td class="fielddoc">
<p>One element in the parameter set's vector. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga1ddf478052543e1d801dfc64c99bcbe3a7a6ff3dd80506d1bb00c476f2062b9c5"></a>Post-estimate data&#160;</td><td class="fielddoc">
<p>Unchanged. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga1ddf478052543e1d801dfc64c99bcbe3ac3117fc1e6f4e6a1e5d6634d438c196f"></a>RNG&#160;</td><td class="fielddoc">
<p>From <a href="http://cgm.cs.mcgill.ca/~luc/mbookindex.html">Devroye (1986)</a>, p 553. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga1ddf478052543e1d801dfc64c99bcbe3a0ac8b78149fa48de4101740a68b22f33"></a>Settings&#160;</td><td class="fielddoc">
<p>MLE-type: <a class="el" href="structapop__mle__settings.html">apop_mle_settings</a>, <a class="el" href="structapop__parts__wanted__settings.html">apop_parts_wanted_settings</a> </p>
</td></tr>
</table>

</div>
</div>
<a class="anchor" id="ga32e7ca1164025cbb53a9e0ecee9d4cea"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">apop_model <a class="el" href="group__models.html#ga32e7ca1164025cbb53a9e0ecee9d4cea">apop_zipf</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Wikipedia has notes on the <a href="http://en.wikipedia.org/wiki/Zipf_distribution">Zipf distribution</a>.</p>
<p><img class="formulaInl" alt="$Z(a) = {1\over \zeta(a) * i^a} $" src="form_140.png"/></p>
<p><img class="formulaInl" alt="$lnZ(a) = -(\log(\zeta(a)) + a \log(i)) $" src="form_141.png"/> </p>
<table class="fieldtable">
<tr><td class="fieldname"><a class="anchor" id="gga32e7ca1164025cbb53a9e0ecee9d4ceaaa20596eaa88a1c941070aabf83449aa7"></a>Name&#160;</td><td class="fielddoc">
<p><code>Zipf distribution</code> </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga32e7ca1164025cbb53a9e0ecee9d4ceaa2c9a8f4c80ae456155c63f1da906d791"></a>Input format&#160;</td><td class="fielddoc">
<p>One scalar observation per row (in the <code>matrix</code> or <code>vector</code>). See also <a class="el" href="group__all__public.html#ga3a2b71415df4c9b6511b2f983dd6c645">apop_data_rank_compress</a> for means of dealing with one more input data format.</p>
<p>See also <a class="el" href="group__all__public.html#ga3a2b71415df4c9b6511b2f983dd6c645">apop_data_rank_compress</a> for means of dealing with one more input data format. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga32e7ca1164025cbb53a9e0ecee9d4ceaadffbeff57f56fe192c51f4222e16f9a7"></a>Parameter format&#160;</td><td class="fielddoc">
<p>One item in the parameter set's vector. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga32e7ca1164025cbb53a9e0ecee9d4ceaad764a94792b43030d24c888a8049560c"></a>Post-estimate data&#160;</td><td class="fielddoc">
<p>Unchanged. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga32e7ca1164025cbb53a9e0ecee9d4ceaa07f9e589c3fe6025b7238fb633c191c1"></a>RNG&#160;</td><td class="fielddoc">
<p>Returns an ordinal ranking, starting from 1.</p>
<p>From <a href="http://cgm.cs.mcgill.ca/~luc/mbookindex.html">Devroye (1986)</a>, Chapter 10, p 551. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga32e7ca1164025cbb53a9e0ecee9d4ceaa2a711d9f19ff7a60c1809fcb29e87bf4"></a>Settings&#160;</td><td class="fielddoc">
<p><a class="el" href="structapop__mle__settings.html">apop_mle_settings</a> </p>
</td></tr>
</table>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
</body></html>
